{"version":3,"sources":["switcheo/utils.js","carbon/key.js","carbon/geoblockedCountries.js","crypt/encrypt.js","crypt/decrypt.js","switcheo/assets.js","switcheo/config.js","switcheo/api.js","translations/i18n.js","config.js","Views/Brand.js","Views/LoginButton.js","Views/RequestAcceptance.js","Views/RequestAcceptanceSend.js","Views/RequestAcceptanceSignMessage.js","Views/RequestAcceptanceInvoke.js","Views/RequestAcceptanceDeploy.js","changelly/key.js","changelly/api.js","carbon/api.js","fiat/tokens.js","swapAPI.js","fiat/index.js","carbon/ACSUI.js","Views/Deposit.js","Views/InsufficientFunds.js","Views/RequestAcceptanceInvokeMulti.js","conn.js","fiat/PaymentResultView.js","App.js","serviceWorker.js","index.js"],"names":["stringify","require","u","wallet","tx","mapKeys","snakeCase","BigNumber","ASSET_DECIMALS","stableStringify","signMessage","message","privateKey","generateSignature","convertKeysToSnakeCase","obj","_","k","module","exports","signTransaction","transaction","InvocationTransaction","serialize","signParams","params","payload","length","Error","messageHex","str2hexstring","messageLengthHex","num2VarInt","encodeMessage","stringifyParams","snakeCaseParams","convertHashToUrlParams","Object","keys","map","key","value","Array","isArray","v","join","mapPairToUrlParam","getTimestamp","Date","getTime","toAssetAmount","assetSymbol","bigNumber","assetPrecision","assetMultiplier","Math","pow","times","toFixed","getScriptHashFromAddress","address","KEYS","SANDBOX","GEOBLOCKED","IV_LENGTH","encrypt","recipientPublicKey","wif","data","ecdh","createECDH","senderAccount","Account","senderPrivateKey","setPrivateKey","senderPublicKey","Buffer","from","publicKey","sharedKey","computeSecret","hash","createHash","update","digest","iv","randomBytes","encryptionKey","slice","macKey","encrypted","cipher","createCipheriv","firstChunk","secondChunk","final","concat","aes256CbcEncrypt","dataToMac","mac","createHmac","toString","decrypt","recipientPrivateKey","ivBuffer","senderPublicKeyBuffer","dataBuffer","equals","decipher","createDecipheriv","aes256CbcDecrypt","NEO","GAS","SWTH","ACAT","APH","AVA","COUP","CPX","DBC","EFX","LRN","MCT","NKN","NRVE","OBT","ONT","PKC","QLC","RHT","RPX","SDT","SDS","SOUL","TKY","TNC","TOLL","ZPT","SWH","MCTP","NRVEP","RHTC","ETH","ONC","config","API_URL","CONTRACT_HASH","axios","handleResponse","response","resolve","status","body","get","url","Promise","paramsString","then","catch","error","console","log","post","headers","i18n","use","initReactI18next","init","resources","en","zh","fallbackLng","debug","ns","defaultNS","keySeparator","interpolation","escapeValue","server","Brand","closeWidget","reqNumber","id","Grid","container","direction","justify","alignItems","style","textAlign","padding","background","item","xs","className","onClick","window","open","withTranslation","t","ReactDOM","unmountComponentAtNode","document","getElementById","height","fontSize","width","includes","variant","changeLanguage","language","color","marginBottom","rejectError","type","description","RequestAcceptance","unmountComponent","props","contid","this","remove","closeRequest","reject","parseInt","split","spacing","Link","href","React","Component","RequestAcceptanceSend","fontWeight","sendArgs","amount","asset","display","network","toAddress","fee","RequestAcceptanceSignMessage","RequestAcceptanceInvoke","invokeArgs","scriptHash","goodEstimation","undefined","attachedAssets","i","RequestAcceptanceDeploy","deployArgs","sysGasFee","networkFee","secret","crypto","apiEndpoint","createBody","method","sign","JSON","doRequest","signedBody","a","fetch","json","getExchangeAmount","bodyExchangeAmount","signedBodyEA","createTransaction","String","ROOT","jwtToken","res","result","createContact","Authorization","getContact","remainingWeeklyLimit","contactId","getContactId","contactInfo","getCreditCardByContactId","contactID","getEthUSDPrice","fiatChargeAmount","addCreditCard","nameOnCard","cardNumber","expiry","cvc","billingInfo","last4NumsCC","substr","creditcardIds","some","element","last4","billingPremise","card_billingPremise","billingStreet","card_billingStreet","billingPostal","card_billingPostal","rememberMe","fiatBaseCurrency","buyETH","creditDebitId","ethAddr","toAddr","actualBalance","ethAmount","neoAddr","_fiatChargeAmount","parseFloat","cryptocurrencySymbol","receiveAddress","successRedirectUrl","errorRedirectUrl","resp","TOKENS","ifura","api","getOrderBook","pair","apiParams","listBalances","addresses","contract_hashes","sleep","s","setTimeout","createOrder","blockchain","side","price","quantity","useNativeTokens","orderType","signableParams","use_native_tokens","order_type","timestamp","contract_hash","signature","signArray","array","reduce","txn","broadcastOrder","order","signatures","fills","makes","createWithdrawal","asset_id","executeWithdrawal","withdrawal","withdraw","oldBalance","confirmed","contractBalance","tradeGAS2NEO","tradedNEO","want_amount","contractBalanceNEO","Number","GAS2NEO","Transaction","getFinalAmount","switcheofee","getGASNeededForNEO","getSwitcheoFeeInUSD","changellyETH2GASRate","carbonETHPrice","priceInUSD","ethAmount2Buy","web3","eth","getGasPrice","gasPrice","txPriceInWei","txPriceInEth","utils","fromWei","minAmountOK","totalFee","bids_orderBook","neoPrice","gasAmount","neoRequested","totalGAS","it","actualNEO","trunc","averageNEOPrice","round","neoAmount","Web3","providers","HttpProvider","neoPrivkey","neoPrivKey","ethAddress","accounts","privateKeyToAccount","payinAddress","amountExpectedFrom","amountExpectedTo","creditCard","card_fullName","card_number","card_expiry","card_cvc","creditCardBillingInfo","getActualBalance","charge3denrolled","errorcode","checkIfEthsHasArrivedAndSend2Changelly","checkBalance","setInterval","newBalance","clearInterval","sendTransaction","addr","getBalance","wei","balance","neoaddr","amountToSendETH","amountToSendGas","privateKeyneo","localStorage","getItem","ACSUI","createIframe3DS","iframe","createElement","onLoad","html","state","acsurl","pareq","termurl","md","appendChild","contentWindow","write","close","submitt","h","offsetHeight","setState","Deposit","handleChange","e","target","name","calculatePrice","_requestsCount","reqCalculatePriceCount","cardError","errorMsg","buy","ccViewIsLoading","ccView","startTransaction","privkey","disableConfirmButton","postCreditCard","confirmCreditCard","temp_address","activateACS","activateStatusScreen","blocked","onSubmit","marginTop","placeholder","label","margin","onChange","disabled","TextField","InputProps","inputProps","min","helperText","InsufficientFunds","wantsDeposit","geoBlocked","r","countryCode","country","indexOf","alt","src","Divider","RequestAcceptanceInvokeMulti","currentContract","invokeMultiArgs","totalContracts","actualIndex","updateWidgetHeight","clientHeight","transform","cursor","opacity","total","forEach","acct","defaultNetwork","supportedNetworks","settings","httpsOnly","totalRequests","calledLogin","calledPermission","userGivesPermission","getNetwork","rawMethods","getProvider","providerInfo","getNetworks","networks","getAccount","requestAcceptance","getPublicKey","getStorage","storageArgs","rpcCall","invokeRead","script","operation","args","normalizeArg","sc","createScript","verifyMessage","verifyArgs","parameterHexString","Neon","verify","hex","getBlock","getBlockHeight","getTransaction","txArgs","txid","getApplicationLog","appLogArgs","send","invoke","invokeMulti","deploy","disconnect","methods","unathenticatedMethods","requireNetworkCheckMethods","signIn","connection","connectToParent","pendingTransactions","MainNet","TestNet","lastBlockHeight","promise","parent","sendEvent","blockHeight","block","index","blockTime","time","blockHash","txids","txx","filter","pendingTx","backlogCalledSignIn","push","storedPrivkey","addEventListener","event","origin","create","account","setItem","successfulSignIn","render","displayWidget","showLoginButton","website","version","compatibility","extra","theme","currency","rpcUrls","call","constructResponse","unsupportedCall","client","rpcClient","query","execute","neoscan","instance","getRPCEndpoint","nodeUrl","neoscanEndpoints","getApiProvider","endpoint","apiProvider","balanceArgs","constructor","all","param","assets","asset_symbol","newAsset","assetID","asset_hash","symbol","fetchUTXO","unspent","utxo","balances","arg","ContractParam","byteArray","blockArgs","blockHeightArgs","broadcastOverride","signedTx","sendRawTransaction","processGeneralError","defaultError","requestAcceptanceSend","fromAddress","contractTx","addIntent","remark","addRemark","calculateUTXOs","calculate","requestContainer","createRequestContainer","failedAcceptanceRequestError","displayRequest","displayInsufficientFundsView","addScriptAttribute","triggerContractVerification","assetIntentOverrides","addAttribute","TxAttrUsage","Script","reverseHex","inputs","input","addExplicitIntents","outputs","output","addOutput","TransactionOutput","assetId","CONST","ASSET_ID","TransactionInput","prevHash","prevIndex","addHashAttributes","txHashAttributes","zeroPad","padEnd","repeat","attr","txAttrUsage","startsWith","parsedValue","str","arr","l","charCodeAt","str2hex","addAssets","getAddressFromScriptHash","requestAcceptanceInvoke","gas","requestAcceptanceInvokeMulti","signArgs","requestAcceptanceSignMessage","salt","uuid","replace","lengthHex","signedMessage","needsStorage","dynamicInvoke","requestAcceptanceDeploy","code","sb","scriptBuilder","emitPush","email","author","isPayable","returnType","parameterList","emitSysCall","encryptRaw","getWIFFromPrivateKey","bufferData","decryptRaw","TextDecoder","decode","wheight","backlogRequestedAcceptance","containerStyle","top","position","MutationObserver","mutationsList","observer","observe","attributes","childList","subtree","PaymentResultView","startFinalTransaction","to","orderId","orderID","checkStatus","finishPurchase","resultMsg","success","temp","searchParams","App","url_string","location","URL","Boolean","hostname","match","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fe23555b.chunk.js","sourcesContent":["const stringify = require('json-stable-stringify')\nconst { u, wallet, tx } = require('@cityofzion/neon-js')\nconst { mapKeys, snakeCase } = require('lodash')\nconst { BigNumber } = require('bignumber.js')\nconst { ASSET_DECIMALS } = require('./assets')\n\nconst stableStringify = require('json-stable-stringify')\n\nfunction getScriptHashFromAddress(address) {\n  return wallet.getScriptHashFromAddress(address)\n}\n\nfunction signMessage(message, privateKey) {\n  return wallet.generateSignature(message, privateKey)\n}\n\nfunction encodeMessage(message) {\n  const messageHex = u.str2hexstring(message)\n  const messageLengthHex = u.num2VarInt(messageHex.length / 2)\n  const concatenatedString = messageLengthHex + messageHex\n  const encodedMessage = `010001f0${concatenatedString}0000`\n  return encodedMessage\n}\n\nfunction signTransaction(transaction, privateKey) {\n  var txn = new tx.InvocationTransaction(transaction)\n  const serializedTxn = txn.serialize(false)\n  return signMessage(serializedTxn, privateKey)\n}\n\nfunction convertKeysToSnakeCase(obj) {\n  return mapKeys(obj, (_, k) => snakeCase(k))\n}\n\nfunction stringifyParams(params) {\n  const snakeCaseParams = convertKeysToSnakeCase(params)\n  // use stringify from json-stable-stringify to ensure that\n  // params are sorted in alphabetical order\n  return stringify(snakeCaseParams)\n}\n\nfunction mapPairToUrlParam(key, value) {\n  if (Array.isArray(value)) {\n    return value.map((v) => `${key}[]=${v}`).join('&')\n  }\n  return `${key}=${value}`\n}\n\nfunction convertHashToUrlParams(params) {\n  const snakeCaseParams = convertKeysToSnakeCase(params)\n  return Object.keys(snakeCaseParams).map(key => mapPairToUrlParam(key, snakeCaseParams[key])).join('&')\n}\n\nfunction signParams(params, privateKey) {\n  const payload = stableStringify(params)\n  //const payload = stringifyParams(params)\n  if (payload.length > 252) {\n    throw new Error('Cannot sign a message more than 252 characters in length')\n  }\n  const encodedPayload = encodeMessage(payload)\n  return signMessage(encodedPayload, privateKey)\n}\n\nfunction getTimestamp() {\n  return new Date().getTime()\n}\n\nfunction toAssetAmount(value, assetSymbol) {\n  const bigNumber = new BigNumber(value)\n  const assetPrecision = ASSET_DECIMALS[assetSymbol]\n  const assetMultiplier = Math.pow(10, assetPrecision)\n  return bigNumber.times(assetMultiplier).toFixed(0)\n}\n\nmodule.exports = {\n  signTransaction,\n  signParams,\n  stringifyParams,\n  convertHashToUrlParams,\n  getTimestamp,\n  toAssetAmount,\n  signMessage,\n  convertKeysToSnakeCase,\n  getScriptHashFromAddress\n}\n","const KEYS = {\n    SANDBOX:'d26a9652-7344-4fb6-9421-c3055e044b08'\n}\n\nmodule.exports = { KEYS }","const GEOBLOCKED = [\n    \"CN\",\n    \"RU\",\n    \"VN\",\n    \"BO\",\n    \"CO\",\n    \"EC\",\n    \"DZ\",\n    \"BD\",\n    \"ID\",\n    \"JO\",\n    \"KG\",\n    \"MA\",\n    \"NP\",\n    \"SA\",\n    \"IR\",\n    \"PK\",\n    \"TW\",\n    \"KH\",\n    \"CU\",\n    \"KP\",\n    \"US\"\n]\n\nmodule.exports = { GEOBLOCKED }","import { createECDH, createHash, createCipheriv, createHmac, randomBytes } from 'crypto';\nimport { wallet } from '@cityofzion/neon-js';\n\nconst IV_LENGTH = 16; // For AES, this is always 16\n\nfunction aes256CbcEncrypt(iv, key, data) {\n  const cipher = createCipheriv('aes-256-cbc', key, iv);\n  const firstChunk = cipher.update(data);\n  const secondChunk = cipher.final();\n  return Buffer.concat([firstChunk, secondChunk]);\n}\n\nfunction getIV() {\n  return randomBytes(IV_LENGTH);\n}\n\nexport default function encrypt({ recipientPublicKey, wif, data }) {\n  const ecdh = createECDH('prime256v1');\n  const senderAccount = new wallet.Account(wif);\n  const senderPrivateKey = senderAccount.privateKey;\n\n  ecdh.setPrivateKey(senderPrivateKey, 'hex');\n  const senderPublicKey = Buffer.from(senderAccount.publicKey, 'hex');\n  const sharedKey = ecdh.computeSecret(recipientPublicKey, 'hex');\n  const hash = createHash('sha512')\n    .update(sharedKey)\n    .digest();\n  const iv = getIV()\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const encrypted = aes256CbcEncrypt(iv, encryptionKey, data);\n  const dataToMac = Buffer.concat([iv, senderPublicKey, encrypted]);\n  const mac = createHmac('sha256', macKey)\n    .update(dataToMac)\n    .digest();\n\n  return {\n    iv: iv.toString('hex'),\n    mac: mac.toString('hex'),\n    data: encrypted.toString('hex')\n  };\n}\n","import { createECDH, createHash, createDecipheriv, createHmac } from 'crypto';\nimport { wallet } from '@cityofzion/neon-js';\n\nfunction aes256CbcDecrypt(iv, key, data) {\n  const decipher = createDecipheriv('aes-256-cbc', key, iv);\n  const firstChunk = decipher.update(data);\n  const secondChunk = decipher.final();\n  return Buffer.concat([firstChunk, secondChunk]);\n}\n\nexport default function decrypt({ senderPublicKey, wif, iv, mac, data }) {\n  const ecdh = createECDH('prime256v1');\n  const recipientAccount = new wallet.Account(wif);\n  const recipientPrivateKey = recipientAccount.privateKey;\n\n  ecdh.setPrivateKey(recipientPrivateKey, 'hex');\n\n  const sharedKey = ecdh.computeSecret(senderPublicKey, 'hex');\n  const hash = createHash('sha512')\n    .update(sharedKey)\n    .digest();\n  const encryptionKey = hash.slice(0, 32);\n  const macKey = hash.slice(32);\n  const ivBuffer = Buffer.from(iv, 'hex');\n  const senderPublicKeyBuffer = Buffer.from(senderPublicKey, 'hex');\n  const dataBuffer = Buffer.from(data, 'hex');\n  const dataToMac = Buffer.concat([ivBuffer, senderPublicKeyBuffer, dataBuffer]);\n  const realMac = createHmac('sha256', macKey)\n    .update(dataToMac)\n    .digest();\n\n  if (!realMac.equals(Buffer.from(mac, 'hex'))) {\n    throw new Error('Bad MAC');\n  }\n\n  return aes256CbcDecrypt(ivBuffer, encryptionKey, dataBuffer);\n}\n","const ASSET_DECIMALS = {\n  // NEO\n  NEO: 8,\n  GAS: 8,\n  SWTH: 8,\n  ACAT: 8,\n  APH: 8,\n  AVA: 8,\n  COUP: 8,\n  CPX: 8,\n  DBC: 8,\n  EFX: 8,\n  LRN: 8,\n  MCT: 8,\n  NKN: 8,\n  NRVE: 8,\n  OBT: 8,\n  ONT: 8,\n  PKC: 8,\n  QLC: 8,\n  RHT: 0,\n  RPX: 8,\n  SDT: 8,\n  SDS: 8,\n  SOUL: 8,\n  TKY: 8,\n  TNC: 8,\n  TOLL: 8,\n  ZPT: 8,\n  SWH: 8,\n  MCTP: 8,\n  NRVEP: 8,\n  RHTC: 0,\n  // ETH\n  ETH: 18,\n  ONC: 18,\n}\n\nmodule.exports = { ASSET_DECIMALS }\n","const config = {\n  API_URL: 'https://api.switcheo.network/v2',\n  CONTRACT_HASH: 'a32bcf5d7082f740a4007b16e812cf66a457c3d4'\n}\n\nmodule.exports = config\n\nif (config.API_URL === '<api url>' || config.CONTRACT_HASH === '<contract hash>') {\n  throw new Error('API_URL and CONTRACT_HASH has not been setup in src/config.js')\n}\n","const axios = require('axios')\nconst { stringifyParams, convertHashToUrlParams } = require('./utils')\n\nfunction handleResponse(response, resolve) {\n  if (response.status === 200) {\n    response.body = response.data\n    resolve(response)\n  }\n}\n\nfunction get(url, params) {\n  return new Promise((resolve) => {\n    const paramsString = convertHashToUrlParams(params)\n    axios.get(url + '?' + paramsString)\n        .then(response => handleResponse(response, resolve))\n        .catch(error => console.log(error.response))\n  })\n}\n\nfunction post(url, params) {\n  return new Promise((resolve) => {\n    return axios.post(url, stringifyParams(params), {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(response => handleResponse(response, resolve))\n    .catch(error => console.log(error.response))\n  })\n}\n\nmodule.exports = { get, post }\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport en from './en.json'\nimport zh from './zh.json'\n\ni18n\n    .use(initReactI18next)\n    .init({\n        // we init with resources\n        resources: {\n            en: en,\n            zh: zh\n        },\n        fallbackLng: \"en\",\n        debug: true,\n\n        // have a common namespace used around the full app\n        ns: [\"common\", \"inverse\"],\n        defaultNS: \"common\",\n\n        keySeparator: false, // we use content as keys\n\n        interpolation: {\n            escapeValue: false\n        }\n    });\n\nexport default i18n;\n","export const server = \"https://neologin.io\";\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\n\nimport './styles.css'\n\nfunction Brand({ closeWidget, reqNumber }) {\n  return (\n    <div id=\"topBar\">\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        style={{ textAlign: 'center', padding: '8px 0', background: '#fff' }}\n      >\n        <Grid item xs={1}>\n          <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"center\">\n            <Grid item>\n              <span className='pendingRequestBadge'>{reqNumber === 1 ? null : reqNumber}</span>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs={10}>\n          <span className=\"brand\" onClick={() => window.open('https://neologin.io')}>NEO LOGIN</span>\n        </Grid>\n        <Grid item xs={1}>\n          <Grid\n            container\n            justify=\"flex-start\"\n            alignItems=\"flex-start\"\n          >\n            <Grid item>\n              <span className='closeButton' onClick={() => closeWidget()}>\n                \n              </span>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid >\n    </div>\n  );\n}\n\nexport default Brand;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport { server } from '../config';\nimport ReactDOM from 'react-dom'\nimport { withTranslation } from 'react-i18next';\nimport './styles.css'\n\nimport Brand from './Brand'\n\nfunction LoginButton({ closeWidget, t, i18n }) {\n  return (\n    <div>\n      <Brand closeWidget={() => {\n        closeWidget()\n        ReactDOM.unmountComponentAtNode(window.document.getElementById('content'))\n      }} />\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"center\"\n        alignItems=\"center\"\n        style={{ height: '100%', padding: '1em' }}\n      >\n        <Grid item xs>\n          <p style={{ fontSize: '0.85em' }}>{t(\"info_login\")}</p>\n        </Grid>\n        <Grid item xs style={{ width: '100%' }}>\n          <button className='buttonContinue' onClick={() => {\n            window.open(server.includes(\"localhost\") ? server : server + \"/login/\", 'NeoLogin - Login', 'width=400,height=660')\n          }}>\n            {t(\"button_continue\")}\n          </button>\n        </Grid>\n        <Grid item xs>\n          <span className=\"cursorOnHover\" variant=\"body2\" onClick={() => i18n.changeLanguage(i18n.language === 'zh' ? 'en' : 'zh')}>\n            <p style={{ color: '#2e5aac', marginBottom: '0' }}>{t(\"inverse:link_language\")}</p>\n          </span>\n        </Grid>\n      </Grid >\n    </div>\n  );\n}\n\nexport default withTranslation()(LoginButton);\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport Brand from './Brand'\nimport ReactDOM from 'react-dom'\nimport { withTranslation } from 'react-i18next';\nimport './styles.css'\n\nconst rejectError = {\n  type: 'CONNECTION_DENIED',\n  description: 'The user rejected the request to connect with your dApp.'\n}\n\nclass RequestAcceptance extends React.Component {\n\n  unmountComponent = () => {\n    ReactDOM.unmountComponentAtNode(window.document.getElementById(this.props.contid))\n  }\n\n  componentWillUnmount() {\n    window.document.getElementById(this.props.contid).remove();\n    this.props.closeRequest()\n    this.props.closeWidget()\n  }\n\n  render() {\n    const { t, i18n } = this.props\n    return (\n      <div>\n        <Brand closeWidget={() => {\n          this.props.reject(rejectError); this.unmountComponent();\n        }} reqNumber={parseInt(this.props.contid.split('-')[1]) + 1} />\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          style={{ height: '100%', padding: '1em' }}\n        >\n          <Grid item xs>\n            <p style={{ fontSize: '0.85em' }}>{t(\"info_requestAcceptance\")}</p>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n              spacing={2}\n            >\n              <Grid item xs>\n                <button className='buttonContinue buttonAccept' onClick={() => {\n                  this.props.resolve('resolveincomponent')\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_accept\")}\n                </button>\n              </Grid>\n              <Grid item xs>\n                <button className='buttonContinue buttonReject' onClick={() => {\n                  this.props.reject(rejectError)\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_reject\")}\n                </button>\n              </Grid>\n            </Grid>\n          </Grid>\n          <Grid item xs>\n            <Link href=\"#\" variant=\"body2\" onClick={() => i18n.changeLanguage(i18n.language === 'zh' ? 'en' : 'zh')}>\n              <p style={{ color: '#2e5aac', marginBottom: '0' }}>{t(\"inverse:link_language\")}</p>\n            </Link>\n          </Grid>\n        </Grid >\n      </div >\n    );\n  }\n}\n\nexport default withTranslation()(RequestAcceptance)\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { withTranslation } from 'react-i18next';\nimport Brand from './Brand'\nimport ReactDOM from 'react-dom'\n\nimport './styles.css'\n\nclass RequestAcceptanceSend extends React.Component {\n\n  unmountComponent = () => {\n    ReactDOM.unmountComponentAtNode(window.document.getElementById(this.props.contid))\n  }\n\n  componentWillUnmount() {\n    window.document.getElementById(this.props.contid).remove();\n    this.props.closeRequest()\n    this.props.closeWidget()\n  }\n\n  render() {\n    const { t } = this.props\n    return (\n      <div>\n        <Brand closeWidget={() => { this.props.reject(); this.unmountComponent(); }} reqNumber={parseInt(this.props.contid.split('-')[1]) + 1} />\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          style={{ height: '100%', padding: '1em' }}\n        >\n          <Grid item xs>\n            <p style={{ fontSize: '0.85em' }}>{t(\"info_send\")}</p>\n          </Grid>\n          <Grid item xs>\n            <span style={{ fontWeight: 'bold' }}>{this.props.sendArgs.amount} {this.props.sendArgs.asset}</span>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"flex-start\"\n              style={{ padding: '1em' }}\n            >\n              <div>\n                <span style={{ fontSize: '0.85em', display: 'block' }}>Network: {this.props.sendArgs.network}</span>\n                <span style={{ fontSize: '0.85em' }}>To: </span><span style={{ fontSize: '0.80em' }}>{this.props.sendArgs.toAddress}</span>\n                <span style={{ fontSize: '0.85em', display: 'block' }}>Fee: {this.props.sendArgs.fee || 0} GAS</span>\n              </div>\n            </Grid>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n              spacing={2}\n            >\n              <Grid item xs>\n                <button className='buttonContinue buttonAccept' onClick={() => {\n                  this.props.resolve('resolveincomponent')\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_accept\")}\n                </button>\n              </Grid>\n              <Grid item xs>\n                <button className='buttonContinue buttonReject' onClick={() => {\n                  this.props.reject()\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_reject\")}\n                </button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid >\n      </div >\n    );\n  }\n}\n\nexport default withTranslation()(RequestAcceptanceSend);\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { withTranslation } from 'react-i18next';\nimport Brand from './Brand'\nimport ReactDOM from 'react-dom'\n\nimport './styles.css'\n\nclass RequestAcceptanceSignMessage extends React.Component {\n\n  unmountComponent = () => {\n    ReactDOM.unmountComponentAtNode(window.document.getElementById(this.props.contid))\n  }\n\n  componentWillUnmount() {\n    window.document.getElementById(this.props.contid).remove();\n    this.props.closeRequest()\n    this.props.closeWidget()\n  }\n\n  render() {\n    const { t } = this.props\n    return (\n      <div>\n        <Brand closeWidget={() => { this.props.reject(); this.unmountComponent(); }} reqNumber={parseInt(this.props.contid.split('-')[1]) + 1} />\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          style={{ height: '100%', padding: '1em' }}\n        >\n          <Grid item xs>\n            <p style={{ fontSize: '0.85em' }}>{t(\"info_signMsg\")}</p>\n          </Grid>\n          <Grid item xs style={{ padding: '1rem', background: 'whitesmoke', width: \"100%\", marginBottom: '1rem' }}>\n            <span>{this.props.message}</span>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n              spacing={2}\n            >\n              <Grid item xs>\n                <button className='buttonContinue buttonAccept' onClick={() => {\n                  this.props.resolve('resolveincomponent')\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_accept\")}\n                </button>\n              </Grid>\n              <Grid item xs>\n                <button className='buttonContinue buttonReject' onClick={() => {\n                  this.props.reject()\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_reject\")}\n                </button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid >\n      </div >\n    );\n  }\n}\n\nexport default withTranslation()(RequestAcceptanceSignMessage);","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { withTranslation } from 'react-i18next';\nimport Brand from './Brand'\nimport ReactDOM from 'react-dom'\nimport './styles.css'\n\nclass RequestAcceptanceInvoke extends React.Component {\n\n  unmountComponent = () => {\n    ReactDOM.unmountComponentAtNode(window.document.getElementById(this.props.contid))\n  }\n\n  componentWillUnmount() {\n    window.document.getElementById(this.props.contid).remove();\n    this.props.closeRequest()\n    this.props.closeWidget()\n  }\n\n  render() {\n    const { t } = this.props\n    return (\n      <div>\n        <Brand closeWidget={() => { this.props.reject(); this.unmountComponent(); }} reqNumber={parseInt(this.props.contid.split('-')[1]) + 1} />\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          style={{ height: '100%', padding: '1em' }}\n        >\n          <Grid item xs>\n            <p style={{ fontSize: '0.85em' }}>{t(\"info_invoke\")}</p>\n          </Grid>\n          <Grid item xs>\n            <span style={{ fontSize: '0.75em' }}>{this.props.invokeArgs.scriptHash}</span>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"flex-start\"\n              style={{ padding: '1em' }}\n            >\n              <div>\n                <span style={{ fontSize: '0.85em', display: 'block' }}>Network: {this.props.network}</span>\n                {\n                  this.props.goodEstimation ?\n                    <span style={{ fontSize: '0.85em', display: 'block', color: '#B33A3A' }}>{t(\"warning_invoke\")}</span>\n\t\t\t\t\t\t: \n                  \t((this.props.invokeArgs.attachedAssets !== undefined) ?\n                  \t  [\"NEO\", \"GAS\"].map((asset, i) =>\n                  \t    (this.props.invokeArgs.attachedAssets[asset]) ?\n                  \t      <span key={i} style={{ fontSize: '0.85em', display: 'block' }}>Amount: {this.props.invokeArgs.attachedAssets[asset]} {asset}</span>\n                  \t      : null\n                  \t  )\n\t\t\t\t\t  : []\n\t\t\t\t\t).concat(\n                \t\t<span style={{ fontSize: '0.85em', display: 'block' }}>Fee: {this.props.invokeArgs.fee || 0} GAS</span>\n\t\t\t\t\t)\n                }\n              </div>\n            </Grid>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n              spacing={2}\n            >\n              <Grid item xs>\n                <button className='buttonContinue buttonAccept' onClick={() => {\n                  this.props.resolve('resolveincomponent')\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_accept\")}\n                </button>\n              </Grid>\n              <Grid item xs>\n                <button className='buttonContinue buttonReject' onClick={() => {\n                  this.props.reject()\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_reject\")}\n                </button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid >\n      </div >\n    );\n  }\n}\n\nexport default withTranslation()(RequestAcceptanceInvoke);\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { withTranslation } from 'react-i18next';\nimport Brand from './Brand'\nimport ReactDOM from 'react-dom'\n\nimport './styles.css'\n\nclass RequestAcceptanceDeploy extends React.Component {\n\n  unmountComponent = () => {\n    ReactDOM.unmountComponentAtNode(window.document.getElementById(this.props.contid))\n  }\n\n  componentWillUnmount() {\n    window.document.getElementById(this.props.contid).remove();\n    this.props.closeRequest()\n    this.props.closeWidget()\n  }\n\n  render() {\n    const { t } = this.props\n    return (\n      <div>\n        <Brand closeWidget={() => { this.props.reject(); this.unmountComponent(); }} reqNumber={parseInt(this.props.contid.split('-')[1]) + 1} />\n        <Grid\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n          style={{ height: '100%', padding: '1em' }}\n        >\n          <Grid item xs style={{ textAlign: 'center' }}>\n            <p style={{ fontSize: '0.85em' }}>{t(\"info_deploy\")}</p>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"flex-start\"\n              style={{ padding: '1em' }}\n            >\n              <div>\n                <span style={{ fontSize: '0.85em', display: 'block' }}>Network: {this.props.deployArgs.network}</span>\n                <span style={{ fontSize: '0.85em', display: 'block' }}>System cost: {this.props.sysGasFee} GAS</span>\n                <span style={{ fontSize: '0.85em', display: 'block' }}>Fee: {this.props.deployArgs.networkFee} GAS</span>\n              </div>\n            </Grid>\n          </Grid>\n          <Grid item xs style={{ width: '100%' }}>\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"center\"\n              alignItems=\"center\"\n              spacing={2}\n            >\n              <Grid item xs>\n                <button className='buttonContinue buttonAccept' onClick={() => {\n                  this.props.resolve('resolveincomponent')\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_accept\")}\n                </button>\n              </Grid>\n              <Grid item xs>\n                <button className='buttonContinue buttonReject' onClick={() => {\n                  this.props.reject()\n                  this.unmountComponent()\n                }}>\n                  {t(\"button_reject\")}\n                </button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid >\n      </div >\n    );\n  }\n}\n\nexport default withTranslation()(RequestAcceptanceDeploy);","const KEYS = {\n    key: 'ebde522b32164eb1b3a5b262ea75c2af',\n    secret: '607f430eb783a1e7c2948c8ce9fd7e4b06463b1300cf72524357be0eabc2152c'\n}\n\nexport default KEYS","import KEYS from './key'\n\nconst crypto = require(\"crypto\");\n\nconst apiEndpoint = 'https://api.changelly.com';\n\nfunction createBody(method, params) {\n    return {\n        \"id\": \"test\",\n        \"jsonrpc\": \"2.0\",\n        \"method\": method,\n        \"params\": params\n    }\n}\n\nfunction sign(data) {\n    return crypto\n        .createHmac('sha512', KEYS.secret)\n        .update(JSON.stringify(data))\n        .digest('hex');\n}\n\nasync function doRequest(body, signedBody) {\n    let response = await fetch(apiEndpoint, {\n        method: 'POST',\n        body: JSON.stringify(body), // data can be `string` or {object}!\n        headers: {\n            'Content-Type': 'application/json',\n            'api-key': KEYS.key,\n            'sign': signedBody\n        }\n    })\n    let data = await response.json()\n    return data\n}\n\nexport async function getExchangeAmount(amount) {\n    let bodyExchangeAmount = createBody('getExchangeAmount', [{ \"from\": \"eth\", \"to\": \"gas\", 'amount': amount }])\n    let signedBodyEA = sign(bodyExchangeAmount)\n    let response = await doRequest(bodyExchangeAmount, signedBodyEA)\n    return response['result'][0]['rate']\n}\n\nexport async function getFixedExchange(amount) {\n    let bodyExchangeAmount = ''\n    if (amount) {\n        bodyExchangeAmount = createBody('getFixRateForAmount', [{ \"from\": \"eth\", \"to\": \"gas\", \"amountFrom\": amount }])\n    } else {\n        bodyExchangeAmount = createBody('getFixRate', [{ \"from\": \"eth\", \"to\": \"gas\" }])\n    }\n    let signedBodyEA = sign(bodyExchangeAmount)\n    let response = await doRequest(bodyExchangeAmount, signedBodyEA)\n    return response['result']\n}\n\nexport async function createTransaction(address, amount) {\n    let body = createBody('createTransaction', {\n        \"from\": \"eth\",\n        \"to\": \"gas\",\n        \"address\": address,\n        \"amount\": String(amount)\n    })\n    let signedBody = sign(body)\n    return await doRequest(body, signedBody)\n}","import { KEYS } from './key'\nconst axios = require(\"axios\");\nconst ROOT = \"https://api.carbon.money\"\n\nlet jwtToken = ''\n\nasync function init() {\n    /* getFees() */\n    let url = `${ROOT}/v1/users/returnJWT?apikey=${KEYS.SANDBOX}`;\n    let res = await fetch(url, {\n        method: 'GET'\n    })\n    let result = await res.json()\n    jwtToken = result.jwtToken\n    console.log(jwtToken)\n}\n\n//'publicKey'may be any general identifier on your side for linking that user as well. (https://docs.carbon.money/docs/contacts)\nasync function createContact(publicKey) {\n    let url = `${ROOT}/v1/contacts/create`;\n\n    let data = {\n        publicKey: publicKey\n    }\n    let headers = {\n        headers: {\n            Authorization: `Bearer ${jwtToken}`\n        }\n    };\n\n    let result = await axios.post(url, data, headers)\n    return result.data['details']['contactId']\n}\n\nasync function getContact(publicKey) {\n    let url = `${ROOT}/v1/contacts/query?publicKey=${publicKey}`;\n\n    let headers = {\n        headers: {\n            Authorization: `Bearer ${jwtToken}`\n        }\n    };\n\n    let result = await axios.get(url, headers)\n    console.log('result.data', result.data)\n    let remainingWeeklyLimit = result.data['details']['remainingWeeklyLimit'] / 100\n    return {\n        contactId: result.data['contactId'],\n        remainingWeeklyLimit\n    }\n}\n\n\nexport async function getContactId(publicKey) {\n    await init()\n    try {\n        let contactInfo = await getContact(publicKey)\n        return contactInfo\n    } catch (error) {\n        let contactId = await createContact(publicKey)\n        return {\n            contactId\n        }\n    }\n\n}\n\nasync function getCreditCardByContactId(contactID) {\n    let headers = {\n        headers: {\n            Authorization: `Bearer ${jwtToken}`\n        }\n    };\n\n    let url = `${ROOT}/v1/card?contactId=${contactID}`;\n    console.log(url)\n    try {\n        let res = await axios.get(url, headers)\n        console.log('creditcard', res)\n        return res.data['details']\n    } catch (error) {\n        console.log(error)\n        return null\n    }\n}\n\n//https://www.iban.com/currency-codes\nfunction updateDefaultCurrency(defaultCurrencyCode, contactId) {\n    let url = `${ROOT}/v1/contacts/updateCurrency`;\n\n    let data = {\n        currency: defaultCurrencyCode,\n        contactId: contactId\n    }\n\n    axios.patch(url, data).then(result => console.log(result)).catch(err => console.log(err));\n}\n\n//TODO: verify contact for all purchases above the non-verified daily limit ($250)\n\nlet fees = {\n    percentFee: 0,\n    minimumFee: 0\n}\n\nfunction getFees() {\n    let url = `${ROOT}/v1/admin/fees`;\n\n    axios.get(url)\n        .then(result => {\n            fees['minimumFee'] = result.data['fiatToCrypto']['minimumFee']\n            fees['percentFee'] = result.data['fiatToCrypto']['percentFee']\n            console.log(fees)\n        })\n        .catch(err => console.log(err));\n\n    /* \n    {\n      message: 'Successfully retrieved fees for fiat > crypto, crypto <> crypto, and crypto > fiat services',\n      code: 200,\n      data: {\n        fiatToCrypto: {\n          percentFee: 3,\n          minimumFee: 2\n        } ,\n        cryptoToFiat: {\n          paypal: {\n            percentFee: 3.4,\n            minimumFee: 1,\n            }\n          }\n      }\n    }\n             */\n}\n\n//rateSignature under the response headers\n/**\n * You also have the option of passing in the rateSignature\n * to the purchase crypto (see below) routes and if the rates\n * are expired, the call will fail. In particular, we will\n * return a 412 status code.\n */\nexport async function getEthUSDPrice(fiatChargeAmount) {\n    let url = `${ROOT}/v1/rates?cryptocurrencyArray=eth&fiatBaseCurrency=usd&fiatChargeAmount=${fiatChargeAmount};`\n\n    let res = await axios.get(url)\n    return res.data['eth']['usd/eth']\n}\n\n//cuck\nexport async function estimatedETHPurchase(fiatChargeAmount) {\n    /* let url = `${ROOT}/v1/rates?cryptocurrencyArray=eth&fiatBaseCurrency=usd&fiatChargeAmount=10000;` */\n    let url = `${ROOT}/v1/rates?cryptocurrencyArray=btc,eth,eos,trx&fiatBaseCurrency=eur&fiatChargeAmount=10000;`\n\n    let res = await axios.get(url)\n    return res.data['eth']['estimatedCryptoPurchase']\n}\n\nexport async function addCreditCard(nameOnCard, cardNumber, expiry, cvc, billingInfo, contactId) {\n\n    let last4NumsCC = cardNumber.substr(cardNumber.length - 4);\n    let creditcardIds = await getCreditCardByContactId(contactId)\n    let i = -1\n    let some = creditcardIds.some(element => {\n        var last4 = element['cardNumber'].substr(element['cardNumber'].length - 4)\n        i = i + 1\n        return (last4 === last4NumsCC)\n    });\n    some ? console.log('some!!!') : console.log('noooooo some!!!')\n    if (some)\n        return creditcardIds.length ? creditcardIds[i]['creditDebitId'] : creditcardIds['creditDebitId']\n\n    console.log('addCreditCard', contactId)\n    let headers = {\n        headers: {\n            Authorization: `Bearer ${jwtToken}`\n        }\n    };\n\n    let url = `${ROOT}/v1/card/addNew`;\n    let data = {\n        nameOnCard: nameOnCard,\n        cardNumber: cardNumber,\n        expiry: expiry,\n        cvc: cvc,\n        billingPremise: billingInfo.card_billingPremise,\n        billingStreet: billingInfo.card_billingStreet,\n        billingPostal: billingInfo.card_billingPostal,\n        contactId: contactId,\n        rememberMe: \"true\",\n        fiatBaseCurrency: \"USD\"//check\n    }\n\n    let res = await axios.post(url, data, headers)\n    return res.data['details']['creditDebitId']\n}\n\nexport async function buyETH(contactId, creditDebitId, fiatChargeAmount, ethAddr, toAddr, actualBalance, ethAmount, asset, neoAddr) {\n    let url = `${ROOT}/v1/card/charge3d`;\n    let headers = {\n        headers: {\n            Authorization: `Bearer ${jwtToken}`\n        }\n    };\n\n    /**\n     * The amount you'd like to charge a card.\n     * You need to pass in a string without any\n     * decimals. For example a charge of $10.39\n     * would be rendered as \"1039\" and $233.91\n     * would be \"23391\".\n     */\n    let _fiatChargeAmount = parseFloat(fiatChargeAmount * 100) + ''\n    let data = {\n        creditDebitId: creditDebitId,\n        fiatChargeAmount: _fiatChargeAmount,\n        cryptocurrencySymbol: \"eth\",\n        receiveAddress: ethAddr,\n        /* confirmationUrl: `https://sockethook-neologin.herokuapp.com/hook/${creditDebitId}`, */\n        successRedirectUrl: `http://localhost:3002/?success=true&neoAddr=${neoAddr}&asset=${asset}&actualBalance=${actualBalance}&from=${ethAddr}&to=${toAddr}&value=${ethAmount}&contactId=${contactId}`,\n        errorRedirectUrl: `http://localhost:3002/?success=false&contactId=${contactId}`,\n        contactId: contactId\n    }\n\n    try {\n        let resp = await axios.post(url, data, headers)\n        return resp.data\n    } catch (e) {\n        console.log(e)\n    }\n    /**\n     * charge3denrolled. \n     * If its value is anything other than 'Y',\n     * you must prompt the customer to try again\n     * with a different card as only 3DS charges\n     * are supported.\n     */\n}\n\nexport async function getStatus(orderID, contactID) {\n    let url = `${ROOT}/v1/status?orderId=${orderID}&contactId=${contactID}`;\n\n    let result = await axios.get(url)\n    return result['details']['status']\n}","const TOKENS = {\n    ifura: 'd0a754583ab1433c8db90a67bcec1b09',\n}\n\nexport default TOKENS","// THE GENESIS: https://github.com/ConjurTech/switcheo-api-examples\n// THE BIBLE: https://docs.switcheo.network\nconst { getTimestamp, signParams, signTransaction, toAssetAmount, getScriptHashFromAddress } = require('./switcheo/utils')\nconst { API_URL, CONTRACT_HASH } = require('./switcheo/config')\nconst api = require('./switcheo/api')\nconst io = require('socket.io-client')\nconst WEBSOCKET_URL = \"wss://ws.switcheo.io\"\n\nfunction getOrderBook(pair) {\n\tconst apiParams = { pair }\n\treturn api.get('https://api.switcheo.network/v2' + '/offers/book', apiParams).then(res => res.body)\n}\n\nfunction createDeposit({ blockchain, address, asset_id, amount, privateKey }) {\n\tconst signableParams = {\n\t\tamount,\n\t\tasset_id,\n\t\tblockchain,\n\t\tcontract_hash: CONTRACT_HASH,\n\t\ttimestamp: getTimestamp()\n\t}\n\tconst signature = signParams(signableParams, privateKey)\n\tconst apiParams = { ...signableParams, address, signature }\n\treturn api.post(API_URL + '/deposits', apiParams).then(res => res.body)\n}\n\nfunction executeDeposit({ deposit, privateKey }) {\n\tconst signature = signTransaction(deposit.transaction, privateKey)\n\tconst url = `${API_URL}/deposits/${deposit.id}/broadcast`\n\treturn api.post(url, { signature })\n}\n\nfunction listBalances({ addresses }) {\n\tconst params = { addresses, contract_hashes: [CONTRACT_HASH] }\n\treturn api.get(API_URL + '/balances', params)\n}\n\nfunction sleep(s) {\n\treturn new Promise(resolve => setTimeout(resolve, s * 1000));\n}\n\nfunction createOrder({ pair, blockchain, side, price,\n\tquantity, useNativeTokens, orderType,\n\tprivateKey, address }) {\n\tconst signableParams = {\n\t\tpair,\n\t\tblockchain,\n\t\tside,\n\t\tprice,\n\t\tquantity: toAssetAmount(quantity, 'GAS'),\n\t\tuse_native_tokens: useNativeTokens,\n\t\torder_type: orderType,\n\t\ttimestamp: getTimestamp(),\n\t\tcontract_hash: CONTRACT_HASH,\n\t}\n\tconst signature = signParams(signableParams, privateKey)\n\tconst apiParams = { ...signableParams, address, signature }\n\treturn api.post(API_URL + '/orders', apiParams).then(res => res.body)\n}\n\nfunction signArray(array, privateKey) {\n\treturn array.reduce((map, item) => {\n\t\tmap[item.id] = signTransaction(item.txn, privateKey)\n\t\treturn map\n\t}, {})\n}\n\nfunction broadcastOrder({ order, privateKey }) {\n\tconst { fills, makes } = order\n\tconst signatures = {\n\t\tfills: signArray(order.fills, privateKey),\n\t\tmakes: signArray(order.makes, privateKey)\n\t}\n\tconst url = `${API_URL}/orders/${order.id}/broadcast`\n\treturn api.post(url, { signatures })\n}\n\nfunction createWithdrawal({ blockchain, address, asset_id, amount, privateKey }) {\n\tconst signableParams = {\n\t\tblockchain, asset_id, amount,\n\t\tcontract_hash: CONTRACT_HASH, timestamp: getTimestamp()\n\t}\n\tconst signature = signParams(signableParams, privateKey)\n\tconst apiParams = { ...signableParams, address, signature }\n\treturn api.post(API_URL + '/withdrawals', apiParams)\n}\n\nfunction executeWithdrawal({ withdrawal, privateKey }) {\n\tconst signableParams = { id: withdrawal.id, timestamp: getTimestamp() }\n\tconst signature = signParams(signableParams, privateKey)\n\tconst url = `${API_URL}/withdrawals/${withdrawal.id}/broadcast`\n\treturn api.post(url, { ...signableParams, signature })\n}\n\nasync function getActualGASBalance(address) {\n\treturn (await listBalances({ addresses: [address] })).body.confirmed.GAS\n}\n\nasync function wait4newBalanceGAS(address, amount) {\n\tlet contractBalanceGAS = (await listBalances({ addresses: [address] })).body.confirmed.GAS;\n\n\twhile (contractBalanceGAS < amount) {\n\t\tawait sleep(0.5)\n\t\tcontractBalanceGAS = (await listBalances({ addresses: [address] })).body.confirmed.NEO;\n\t}\n}\n\nasync function depositNEO(address, privateKey, amount) {\n\tlet contractBalanceNEO = (await listBalances({ addresses: [address] })).body.confirmed.NEO;\n\n\t// Create deposit\n\tconst deposit = await createDeposit({\n\t\tblockchain: 'neo',\n\t\taddress,\n\t\tasset_id: 'NEO',\n\t\tamount,\n\t\tprivateKey\n\t});\n\n\t// Execute neo deposit\n\tawait executeDeposit({ deposit, privateKey })\n\n\t// Wait for deposit to complete\n\twhile (contractBalanceNEO < amount) {\n\t\tawait sleep(0.5)\n\t\tcontractBalanceNEO = (await listBalances({ addresses: [address] })).body.confirmed.NEO;\n\t}\n}\n\nasync function depositGAS(address, privateKey, amount) {\n\tlet contractBalanceGAS = (await listBalances({ addresses: [address] })).body.confirmed.GAS;\n\tcontractBalanceGAS = contractBalanceGAS ? contractBalanceGAS : 0\n\tconsole.log('contractBalanceGAS', contractBalanceGAS, CONTRACT_HASH)\n\t// Create deposit\n\tconst deposit = await createDeposit({\n\t\tblockchain: 'neo',\n\t\taddress,\n\t\tasset_id: 'GAS',\n\t\tamount: toAssetAmount(amount, 'GAS'),\n\t\tprivateKey\n\t});\n\n\t// Execute gas deposit\n\tawait executeDeposit({ deposit, privateKey })\n\n\t// Wait for deposit to complete\n\twhile (contractBalanceGAS < amount) {\n\t\tawait sleep(0.5)\n\t\tcontractBalanceGAS = (await listBalances({ addresses: [address] })).body.confirmed.GAS;\n\t\tconsole.log('contractBalanceGAS', contractBalanceGAS)\n\t}\n}\n\nasync function withdraw(address, privateKey, amount, asset) {\n\t// Create withdrawal\n\tconst withdrawal = await createWithdrawal({\n\t\tblockchain: 'neo',\n\t\taddress,\n\t\tasset_id: asset,\n\t\tamount,\n\t\tprivateKey\n\t})\n\n\t// Execute withdrawal\n\tawait executeWithdrawal({ withdrawal, privateKey })\n\n\t// Wait for withdrawal to finish\n\tconst oldBalance = (await listBalances({ addresses: [address] })).body.confirmed[asset];\n\tlet contractBalance = oldBalance\n\twhile (contractBalance == oldBalance) {\n\t\tawait sleep(0.5)\n\t\tcontractBalance = (await listBalances({ addresses: [address] })).body.confirmed[asset];\n\t}\n}\n\nfunction createPromisedOrder(address, pair) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst socketClient = io(`${WEBSOCKET_URL}/orders`)\n\t\tsocketClient.on('connection', function (socket) {\n\t\t\tsocket.join({\n\t\t\t\tcontract_hash: CONTRACT_HASH,\n\t\t\t\tpair: pair,\n\t\t\t\taddress\n\t\t\t})\n\t\t\tsocket.on('updates', ({ events }) => {\n\t\t\t\tevents.forEach(event => {\n\t\t\t\t\tresolve(event.orders[0].filledAmount) //TODO: Test\n\t\t\t\t})\n\t\t\t});\n\t\t});\n\t})\n}\n\nasync function tradeNEO2GAS(address, privateKey, amount, filledOrder) {\n\t// Create order\n\tconst order = await createOrder({\n\t\tpair: 'GAS_NEO',\n\t\tblockchain: 'neo',\n\t\taddress,\n\t\tside: 'buy',\n\t\tprice: null,\n\t\tquantity: amount,\n\t\tuseNativeTokens: false,\n\t\torderType: 'market',\n\t\tprivateKey\n\t})\n\n\t// Execute order\n\tawait broadcastOrder({ order, privateKey })\n\n\t// Wait for order to complete\n\tawait filledOrder;\n}\n\nasync function tradeGAS2NEO(address, privateKey, amount) {\n\t// Create order\n\tconst order = await createOrder({\n\t\tpair: 'GAS_NEO',\n\t\tblockchain: 'neo',\n\t\taddress,\n\t\tside: 'sell',\n\t\tprice: null,\n\t\tquantity: amount,\n\t\tuseNativeTokens: false,\n\t\torderType: 'market',\n\t\tprivateKey\n\t})\n\n\t// Execute order\n\tlet tradedNEO = (await broadcastOrder({ order, privateKey })).data.want_amount\n\t// Wait for order to complete\n\tlet contractBalanceNEO = (await listBalances({ addresses: [address] })).body.confirmed.NEO;\n\tcontractBalanceNEO = contractBalanceNEO ? contractBalanceNEO : 0\n\n\t// Wait for order to complete\n\twhile (contractBalanceNEO < amount) {\n\t\tawait sleep(0.5)\n\t\tcontractBalanceNEO = (await listBalances({ addresses: [address] })).body.confirmed.NEO;\n\t}\n\n\treturn Number(tradedNEO)/2\n}\n\nasync function NEO2GAS(address, privateKey, amount) {\n\tlet filledOrder = createPromisedOrder(address, \"GAS_NEO\")\n\n\t// DEPOSIT\n\tawait depositNEO(address, privateKey, amount)\n\n\t// TRADE\n\tawait tradeNEO2GAS(address, privateKey, amount, filledOrder)\n\n\t// WITHDRAW\n\tawait withdraw(address, privateKey, filledOrder, \"GAS\")\n}\n\nasync function GAS2NEO(address, privateKey, amount) {\n\taddress = getScriptHashFromAddress(address)\n\t// DEPOSIT\n\tconsole.log('depositing gas...')\n\t//await depositGAS(address, privateKey, amount)\n\n\t// TRADE\n\tconsole.log('trading...')\n\tconst tradedNEO = await tradeGAS2NEO(address, privateKey, amount) % 10**8\n\n\t// WITHDRAW\n\tconsole.log('withdrawing...')\n\tawait withdraw(address, privateKey, tradedNEO, \"NEO\")\n}\n\nasync function ETH2NEO() {\n\n}\n\nasync function ETH2GAS() {\n\t// ETH -> SWTH\n\n\t// SWTH -> GAS\n}\n\nexport { NEO2GAS, ETH2NEO, ETH2GAS, GAS2NEO, getOrderBook }; \n","import { getExchangeAmount, createTransaction } from '../changelly/api'\nimport { getContactId, getEthUSDPrice, addCreditCard, buyETH, getStatus } from '../carbon/api'\nimport Web3 from 'web3'\nimport TOKENS from './tokens'\nimport { GAS2NEO, getOrderBook } from '../swapAPI'\nimport { getBalance } from '../conn'\n\nconst Tx = require('ethereumjs-tx').Transaction\n\nexport async function getFinalAmount(amount, asset, id) {\n\n    let switcheofee = 0\n    if (asset === 'NEO') {\n        let result = await getGASNeededForNEO(amount)\n        amount = result['totalGAS']\n        switcheofee = getSwitcheoFeeInUSD(amount, result['averageNEOPrice'])\n    }\n\n    let changellyETH2GASRate = await getExchangeAmount(0.1)//changelly\n    let carbonETHPrice = await getEthUSDPrice()//carbon\n    let ethAmount2Buy = (amount / (changellyETH2GASRate * 0.98))\n    let priceInUSD = ethAmount2Buy * carbonETHPrice\n\n    //calculating fees\n    let gasPrice = await web3.eth.getGasPrice()\n    let txPriceInWei = gasPrice * 21000 * 3 //fast fast fast fast\n    let txPriceInEth = web3.utils.fromWei(String(txPriceInWei), 'ether')\n    let changellyDepositNetFee = txPriceInEth / carbonETHPrice\n\n    let changellySwapNetFee = (0.1 / (changellyETH2GASRate)) * carbonETHPrice //0.1GAS changelly fee\n\n    let carbonFee = (0.03 * priceInUSD > 2) ? 0.03 * priceInUSD : 2\n\n\n    let totalFee = carbonFee + changellyDepositNetFee + changellySwapNetFee + switcheofee//+ changellyFeeUSD <- included in getethusdprice\n    let fiatChargeAmount = priceInUSD + totalFee\n\n    let minAmountOK = (priceInUSD >= 5)\n\n    fiatChargeAmount = (fiatChargeAmount).toFixed(2)\n    totalFee = (totalFee).toFixed(2)\n    priceInUSD = (priceInUSD).toFixed(2)\n\n    return {\n        fiatChargeAmount,\n        priceInUSD,\n        totalFee,\n        minAmountOK,\n        id,\n        ethAmount2Buy\n    }\n}\n\nasync function getGASNeededForNEO(amount) {\n    const bids_orderBook = (await getOrderBook('GAS_NEO'))['bids']\n    let neoPrice = 0\n    let gasAmount = 0\n    let neoRequested = amount\n    let totalGAS = 0\n\n    let price = 0\n\n    let it = 0\n    while (neoRequested > 0 && it < bids_orderBook.length) {\n        gasAmount = bids_orderBook[it]['quantity']\n        neoPrice = bids_orderBook[it]['price']\n        let actualNEO = neoPrice * gasAmount\n        if (neoRequested <= actualNEO) {\n            totalGAS += (neoRequested / neoPrice)\n            price += neoPrice * neoRequested\n        }\n        else {\n            totalGAS += actualNEO / neoPrice\n            price += neoPrice * actualNEO\n        }\n        neoRequested -= actualNEO\n        it++\n    }\n\n    totalGAS = (Math.trunc(totalGAS * 1000) / 1000) + 0.001\n    let averageNEOPrice = parseFloat(amount) ? Math.round((price / amount) * 1000) / 1000 : 0\n    return {\n        totalGAS,\n        averageNEOPrice\n    }\n}\n\nfunction getSwitcheoFeeInUSD(neoAmount, averageNEOPrice) {\n    let netFee = 0\n    let switcheoFee = 0.2//percent\n\n    let neoFee = neoAmount * (switcheoFee / 100)\n    return (neoFee * averageNEOPrice)\n}\n\n//const testnet = 'https://ropsten.infura.io/';\n//const web3 = new Web3(new Web3.providers.HttpProvider(testnet));\n\nvar web3 = new Web3(new Web3.providers.HttpProvider(\"https://mainnet.infura.io/v3/\" + TOKENS.ifura));//check infura\nfunction createETHWallet(neoPrivKey) {\n    let ethwallet = web3.eth.accounts.privateKeyToAccount(neoPrivKey);\n    return ethwallet['address']\n}\n\n\nexport async function startTransaction(neoAddr, neoPrivkey, ethAmount2Buy) {\n    let contactInfo = await getContactId(neoAddr)//carbon\n    let contactId = contactInfo['contactId']\n    let ethAddress = createETHWallet(neoPrivkey)\n\n    let transaction = await createTransaction(ethAddress, ethAmount2Buy)//changelly\n\n    let payinAddress = transaction['result']['payinAddress']\n    let amountExpectedFrom = transaction['result']['amountExpectedFrom']\n    let amountExpectedTo = transaction['result']['amountExpectedTo']\n\n    return {\n        amountExpectedTo,\n        payinAddress,\n        contactId,\n        ethAddress,\n        amountExpectedFrom,\n        remainingWeeklyLimit: contactInfo['remainingWeeklyLimit']\n    }\n}\n\n\nexport async function postCreditCard(contactId, fiatChargeAmount, address, payinAddress, creditCard, ethAmount, asset, neoAddr) {\n    let creditDebitId = await addCreditCard(creditCard.card_fullName, creditCard.card_number, creditCard.card_expiry, creditCard.card_cvc, creditCard.creditCardBillingInfo, contactId)\n    let actualBalance = await getActualBalance(address)\n    let response = await buyETH(contactId, creditDebitId, fiatChargeAmount, address, payinAddress, actualBalance, ethAmount, asset, neoAddr)\n    if (response.charge3denrolled !== 'Y' && response.errorcode !== 0) {\n        //  require a different card\n        return Promise.reject(response)\n    } else {\n        return response\n    }\n\n}\n\nexport function finishPurchase(neoAddr, address, payinAddress, amountExpectedTo, amountExpectedFrom, contactID, orderID, actualBalance, asset) {\n    return new Promise((resolve, reject) => {\n        let checkStatus = setInterval(async () => {\n            let code = ''\n            try {\n                code = '100'//await getStatus(contactID, orderID)\n            } catch (e) {\n                clearInterval(checkStatus)\n                return reject(e)\n            }\n            if (code === \"100\") {\n                clearInterval(checkStatus)\n                //una vez mis eths se han pagado, ahora checkeo que han llegado\n                checkIfEthsHasArrivedAndSend2Changelly(neoAddr, address, payinAddress, amountExpectedTo, amountExpectedFrom, actualBalance, asset, resolve, reject)\n            } else if (code === '-1' || code === '2' || code === '3' || code === '7000') {\n                return reject(code)\n            }\n        }, 1000);\n    })\n}\n\nfunction checkIfEthsHasArrivedAndSend2Changelly(neoAddr, address, payinAddress, amountExpectedTo, amountExpectedFrom, actualBalance, asset, resolve, reject) {\n    let checkBalance = setInterval(async () => {\n        let newBalance = await getActualBalance(address)\n        if (actualBalance < newBalance) {\n            clearInterval(checkBalance)\n            try {\n                await sendTransaction(neoAddr, address, payinAddress, amountExpectedTo, amountExpectedFrom, asset, resolve, reject)\n            } catch (e) {\n                return reject()\n            }\n        }\n    }, 2000);\n}\n\nexport async function getActualBalance(addr) {\n    return new Promise((resolve, reject) => {\n        web3.eth.getBalance(addr, async (error, wei) => {\n            if (!error) {\n                var balance = web3.utils.fromWei(wei, 'ether');\n                resolve(balance)\n            }\n            else\n                reject(error)\n        });\n    });\n}\n\nexport async function sendTransaction(neoaddr, addr, toAddress, amountToSendETH, amountToSendGas, asset, resolve, reject) {\n    /* let gasPrice = await web3.eth.getGasPrice()\n    let gasLimit = await web3.eth.getBlock(\"latest\")\n    gasLimit = gasLimit.gasLimit\n    let nonce = await web3.eth.getTransactionCount(addr)\n    let privateKey = \"x\"\n    let privateKeyneo = localStorage.getItem('privkey')\n    gasPrice = gasPrice * 3 * 0\n\n    var rawTransaction = {\n        \"from\": addr,\n        \"nonce\": web3.utils.toHex(nonce),\n        \"gasPrice\": web3.utils.toHex(gasPrice),\n        \"gasLimit\": web3.utils.toHex(gasLimit),\n        \"to\": toAddress,\n        \"value\": web3.utils.toHex(web3.utils.toWei(amountToSendETH, 'ether')),\n        \"chainId\": 1\n    };\n\n    var privKey = new Buffer(privateKey, 'hex');\n    var tx = new Tx(rawTransaction);\n\n    tx.sign(privKey);\n    var serializedTx = tx.serialize();\n\n    let actualBalance = await getBalanceByAsset(neoaddr, 'GAS') */\n    let privateKeyneo = localStorage.getItem('privkey')\n    console.log(neoaddr, privateKeyneo, amountToSendGas)\n    await GAS2NEO(neoaddr, privateKeyneo, amountToSendGas)\n    /* web3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex'), async (err, hash) => {\n        if (err) {\n            console.log('Txn Sent and hash is ' + hash);\n            if (asset === 'NEO') {\n                //await wait4newBalance(actualBalance, neoaddr, 'GAS')\n                await GAS2NEO(neoaddr, privateKeyneo, amountToSendGas)\n                resolve()\n            }\n            else\n                resolve()\n        }\n        else {\n            console.error(err);\n            reject()\n        }\n    }); */\n}\n\nasync function wait4newBalance(balance, addr, asset) {\n    let newBalance = 0\n    while (balance > newBalance) {\n        await sleep(2)\n        newBalance = await getBalanceByAsset(addr, asset)\n        console.log(balance, newBalance)\n    }\n}\n\nfunction sleep(s) {\n    return new Promise(resolve => setTimeout(resolve, s * 1000));\n}\n\nasync function getBalanceByAsset(addr, asset) {\n    return (await getBalance({\n        \"params\": [\n            {\n                \"address\": addr,\n                \"assets\": [asset]\n            }\n        ],\n        \"network\": \"MainNet\"\n    }))[addr]['amount']\n}\n","import React from 'react';\n\nclass ACSUI extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            acsurl: this.props.acsurl,\n            pareq: this.props.pareq,\n            termurl: this.props.termurl,\n            md: this.props.md,\n            height: 438\n        };\n    }\n\n    componentDidMount() {\n        let topBarHeight = document.getElementById(\"topBar\").offsetHeight\n        let h = 400 + topBarHeight\n        this.setState({ height: `${h}px` })\n        this.createIframe3DS()\n    }\n\n    createIframe3DS = () => {\n        var iframe = document.createElement('iframe');\n        iframe.style['width'] = '100%'\n        iframe.style['height'] = '100%'\n        iframe.style['border'] = '0'\n        iframe.id = 'iframe3ds'\n        iframe.onLoad = \"alert('Test');\"\n        var html = `\n        <form style={{width:'100%', height='100%'}}name=\"form\" id=\"form\" action=${this.state.acsurl} method=\"POST\">\n        <input type=\"hidden\" name=\"PaReq\" value=${this.state.pareq} />\n        <input type=\"hidden\" name=\"TermUrl\" value=${this.state.termurl} />\n        <input type=\"hidden\" name=\"MD\" value=${this.state.md} />\n        <p>You will be redirected to 3DS</p>\n        <button type=\"submit\" id=\"completePayment\">Complete payment</button>\n        </form>\n        <script>\n        function submitt() {\n        document.getElementById('form').submit()\n        }\n        </script>\n        `;\n        document.getElementById('3dsContainer').appendChild(iframe);\n        iframe.contentWindow.document.open();\n        iframe.contentWindow.document.write(html);\n        iframe.contentWindow.document.close();\n        setTimeout(() => { document.getElementById('iframe3ds').contentWindow.submitt() }, 1);\n    }\n\n    render() {\n        return (\n            <>\n                <div id='3dsContainer' style={{ height: this.state.height }}>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default ACSUI;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport './styles.css'\n\nimport { getFinalAmount, startTransaction, postCreditCard } from '../fiat/index'\nimport ACSUI from '../carbon/ACSUI';\n\nclass Deposit extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      asset: this.props.asset,\n      ethAddress: 0,\n      payinAddress: 0,\n      contactId: null,\n      ccView: false,\n      totalFee: 0,\n      amount: this.props.amount,\n      fiatChargeAmount: 0,\n      reqCalculatePriceCount: 0,\n      priceInUSD: 0,\n      minAmountOK: true,\n      ccViewIsLoading: false,\n      cardError: false,\n      activateStatusScreen: false,\n      disableConfirmButton: false,\n\n      blocked: false\n    };\n  }\n\n  componentDidMount() {\n    this.calculatePrice(this.state.amount, this.state.asset)\n  }\n\n  handleChange = (e) => {\n    let { name, value } = e.target;\n    this.setState({ [name]: value })\n    if (name === 'amount') {\n      this.calculatePrice(value, this.state.asset)\n    } else if (name === 'asset') {\n      this.calculatePrice(this.state.amount, value)\n    }\n  }\n\n  calculatePrice = (value, asset) => {\n    let _requestsCount = this.state.reqCalculatePriceCount + 1\n    this.setState({ reqCalculatePriceCount: _requestsCount }, async () => {\n      try {\n        let res = await getFinalAmount(value, asset, _requestsCount)\n        if (res.id == this.state.reqCalculatePriceCount) {\n          if (this.state.reqCalculatePriceCount)\n            this.setState({\n              fiatChargeAmount: res.fiatChargeAmount,\n              totalFee: res.totalFee,\n              priceInUSD: res.priceInUSD,\n              reqCalculatePriceCount: 0,\n              minAmountOK: res.minAmountOK,\n              ethAmount2Buy: res.ethAmount2Buy\n            })\n        }\n        console.log('llega')\n      } catch (error) {\n        console.log('llega')\n        this.setState({ cardError: true, errorMsg: 'Error calculating prices.', reqCalculatePriceCount: 0 })\n      }\n    })\n  }\n\n  buy = () => {\n    this.setState({ ccViewIsLoading: true, ccView: true })\n    startTransaction(this.props.addr, this.props.privkey, this.state.ethAmount2Buy).then((res) => {\n      this.setState({\n        contactId: res.contactId,\n        ethAddress: res.address,\n        payinAddress: res.payinAddress,\n        ccViewIsLoading: false,\n        remainingWeeklyLimit: res.remainingWeeklyLimit,\n        amountExpectedFrom: res.amountExpectedFrom\n      })\n      if (res.remainingWeeklyLimit < this.state.fiatChargeAmount) {\n        this.setState({ cardError: true, errorMsg: `The amount you are trying to buy exceeds you remaining dialy limit: ${res.remainingWeeklyLimit}$` })\n      }\n      if (this.state.disableConfirmButton) {\n        this.postCreditCard()\n      }\n    })\n  }\n\n  confirmCreditCard = () => {\n    this.setState({ disableConfirmButton: true })\n    if (this.state.contactId) {\n      this.postCreditCard()\n    }\n  }\n\n  postCreditCard = () => {\n    let creditCardBillingInfo = {\n      card_billingPremise: this.state.card_billingPremise,\n      card_billingStreet: this.state.card_billingStreet,\n      card_billingPostal: this.state.card_billingPostal\n    }\n    let creditCard = {\n      creditCardBillingInfo: creditCardBillingInfo,\n      card_number: this.state.card_number,\n      card_expiry: this.state.card_expiry,\n      card_cvc: this.state.card_cvc,\n      card_fullName: this.state.card_fullName\n    }\n    let temp_address = this.state.ethAddress\n    postCreditCard(this.state.contactId, this.state.fiatChargeAmount, temp_address,\n      this.state.payinAddress, creditCard, this.state.amountExpectedFrom, this.state.asset, this.props.neoAddr).then((response) => {\n        this.setState({\n          activateACS: true,\n          acsurl: response.acsurl,\n          pareq: response.pareq,\n          termurl: response.termurl,\n          md: response.md\n        })\n      }).catch((e) => {\n        console.log(e)\n        this.setState({ disableConfirmButton: false })\n        if (!this.state.cardError)\n          this.setState({ cardError: true, errorMsg: 'Something went wrong:/ Try with another credit card.' })\n      })\n  }\n\n  render() {\n    return (\n      this.state.activateACS && !this.state.ccViewIsLoading ? <ACSUI onSubmit={() => this.setState({ activateStatusScreen: true })} acsurl={this.state.acsurl} pareq={this.state.pareq} termurl={this.state.termurl} md={this.state.md} /> :\n        this.state.ccView ?\n          < div >\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"center\"\n              style={{ height: '100%', padding: '1em' }}\n            >\n              <Grid item><p style={{ fontWeight: 'bold', marginTop: '0' }}>Transaction info</p></Grid>\n              <Grid item style={{ padding: '1rem', background: 'whitesmoke', width: \"100%\", marginBottom: '1rem' }}>\n                <p style={{ fontSize: '0.75rem' }}>Asset: {this.state.asset}</p>\n                <p style={{ fontSize: '0.75rem' }}>Destination address: {this.props.addr}</p>\n                <p style={{ fontSize: '0.75rem' }}>Amount requested: {this.state.amount} {this.state.asset}</p>\n                <p style={{ fontSize: '0.75rem' }}>Price: {this.state.priceInUSD}$</p>\n                <p style={{ fontSize: '0.75rem' }}>Fee: {this.state.totalFee}$</p>\n                <p style={{ fontSize: '0.75rem' }}>Total to pay: {this.state.fiatChargeAmount}$</p>\n              </Grid>\n              <Grid item><p style={{ fontWeight: 'bold', marginTop: '0' }}>Payment info</p></Grid>\n              <Grid item>\n                <Grid container spacing={1}\n                  direction=\"row\"\n                  justify=\"center\"\n                  alignItems=\"center\">\n\n                  <Grid item xs={6}>\n                    <input\n                      className=\"inputCC\"\n                      placeholder=\"Card number\"\n                      id=\"standard-name\"\n                      label=\"Card number\"\n                      margin=\"normal\"\n                      name=\"card_number\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <input\n                      className=\"inputCC\"\n                      placeholder=\"Billing premise\"\n                      id=\"standard-name\"\n                      label=\"Premise\"\n                      margin=\"normal\"\n                      name=\"card_billingPremise\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <input\n                      className=\"inputCC\"\n                      placeholder=\"MM/YY\"\n                      id=\"standard-name\"\n                      label=\"MM/YY\"\n                      margin=\"normal\"\n                      name=\"card_expiry\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <input\n                      className=\"inputCC\"\n                      placeholder=\"Billing street\"\n                      id=\"standard-name\"\n                      label=\"Street\"\n                      margin=\"normal\"\n                      name=\"card_billingStreet\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <input\n                      className=\"inputCC\"\n                      placeholder=\"CVC\"\n                      id=\"standard-name\"\n                      label=\"CVC\"\n                      margin=\"normal\"\n                      name=\"card_cvc\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <input\n                      className=\"inputCC\"\n                      placeholder=\"Billing postal\"\n                      id=\"standard-name\"\n                      label=\"Postal code\"\n                      margin=\"normal\"\n                      name=\"card_billingPostal\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <input\n                      className=\"inputCC\"\n                      placeholder=\"Full name\"\n                      id=\"standard-name\"\n                      label=\"Full name\"\n                      margin=\"normal\"\n                      name=\"card_fullName\"\n                      onChange={this.handleChange}\n                    />\n                  </Grid>\n                </Grid>\n              </Grid>\n              {\n                this.state.cardError ?\n                  <Grid item>\n                    <p style={{ color: 'darkred', fontSize: '0.75rem' }}>{this.state.errorMsg}</p>\n                  </Grid>\n                  : null\n              }\n              <Grid item>\n                {\n                  !this.state.disableConfirmButton ? <span onClick={() => this.setState({ ccView: false })} className='backtext'>Back</span> : null\n                }\n                <button className='buttonBuy' disabled={this.state.disableConfirmButton} onClick={() => this.confirmCreditCard()}>{!this.state.disableConfirmButton ? 'Confirm' : 'Creating transaction...'}</button>\n              </Grid>\n            </Grid >\n          </div >\n          :\n          <div>\n            <Grid\n              container\n              direction=\"column\"\n              justify=\"center\"\n              alignItems=\"center\"\n              style={{ height: '100%', padding: '1em' }}\n            >\n              <Grid item><p style={{ fontWeight: 'bold', marginTop: '0' }}>Buy assets</p></Grid>\n              <Grid item>\n                <select name=\"asset\" id=\"currency\" onChange={this.handleChange}>\n                  <option value=\"GAS\">GAS</option>\n                  <option value=\"NEO\">NEO</option>\n                </select>\n              </Grid>\n              <Grid item>\n                <TextField\n                  id=\"standard-name\"\n                  label=\"Amount\"\n                  type=\"Number\"\n                  margin=\"normal\"\n                  name=\"amount\"\n                  value={this.state.amount}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  InputProps={{ inputProps: { min: 0 } }}\n                  error={this.state.minAmountOK ? null : true}\n                  helperText={this.state.minAmountOK ? \"\" : \"You are below the minimum required\"}\n                />\n              </Grid>\n              <Grid item>\n                {\n                  this.state.reqCalculatePriceCount ?\n                    <p>Loading price...</p>\n                    :\n                    <>\n                      <p>You pay {this.state.priceInUSD}$ (+Fee: {this.state.totalFee}$)</p>\n                      <p>Total: {this.state.fiatChargeAmount}$</p>\n                    </>\n                }\n              </Grid>\n              {\n                !this.state.reqCalculatePriceCount && this.state.minAmountOK ?\n                  <Grid item>\n                    <button className=\"buttonBuy\" disabled={!this.state.amount} onClick={this.buy}>Buy</button>\n                  </Grid> : null\n              }\n            </Grid >\n          </div >\n    );\n  }\n}\n\nexport default Deposit;\n","import React from 'react';\nimport ReactDOM from 'react-dom'\n\nimport Grid from '@material-ui/core/Grid';\nimport { withTranslation } from 'react-i18next';\nimport Divider from '@material-ui/core/Divider';\n\nimport Brand from './Brand'\nimport Deposit from './Deposit'\n\nimport './styles.css'\nimport { GEOBLOCKED } from '../carbon/geoblockedCountries'\n\nclass InsufficientFunds extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      wantsDeposit: false,\n      geoBlocked: true\n    }\n  }\n\n  componentWillMount() {\n    fetch('https://ipapi.co/json/').then((r) => r.json()).then((data) => {\n      let countryCode = data.country\n      let blocked = (GEOBLOCKED.indexOf(countryCode) > -1)\n\n      this.setState({\n        geoBlocked: blocked,\n      });\n    }).catch((error) => {\n      console.log(error);\n    });\n  }\n\n  unmountComponent = () => {\n    ReactDOM.unmountComponentAtNode(window.document.getElementById(this.props.contid))\n  }\n\n  componentWillUnmount() {\n    window.document.getElementById(this.props.contid).remove();\n    this.props.closeRequest()\n    this.props.closeWidget()\n  }\n\n\n  render() {\n    const { t } = this.props\n    return (\n      <>\n        <Brand closeWidget={() => { this.props.reject(); this.unmountComponent(); }} reqNumber={parseInt(this.props.contid.split('-')[1]) + 1} />\n        {\n          !this.state.wantsDeposit ?\n            < div >\n              <Grid\n                container\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n                style={{ height: '100%', padding: '1em' }}\n              >\n                <Grid item><p style={{ fontWeight: 'bold', marginTop: '0' }}>{t(\"info_titleNoFunds\")}</p></Grid>\n                <Grid item xs>\n                  <img alt=\"address\" style={{ height: '150px' }} src={\"https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=\" + this.props.address + \"&chld=L|0\"} />\n                </Grid>\n                <Grid item xs>\n                  <span style={{ fontSize: '0.85em' }}>{this.props.address}</span>\n                </Grid>\n                <Grid item xs>\n                  <p style={{ fontSize: '0.85em' }}>{t(\"info_notEnoughFunds\")}</p>\n                </Grid>\n                <Grid item style={{ width: '100%', marginBottom: '15px' }}>\n                  <Grid container direction='row' alignItems='center' justify='center' style={{ width: '100%', textAlign: 'center' }}>\n                    <Grid item xs >\n                      <Divider />\n                    </Grid>\n                    <Grid item >\n                      <span style={{ margin: '0px 10px' }}>{t(\"info_or\")}</span>\n                    </Grid>\n                    <Grid item xs >\n                      <Divider />\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Grid item xs style={{ width: '100%' }}>\n                  <button className='buttonContinue' onClick={() => {\n                    console.log(this.props.network)\n                    this.props.network === 'MainNet' ? this.setState({ wantsDeposit: false }) : window.open('https://neowish.ngd.network/', '_blank')\n                  }}>\n                    {this.props.network === 'MainNet' ? t(\"info_topup\") : t(\"info_topupTestnet\")}\n                  </button>\n                </Grid>\n              </Grid >\n            </div >\n            :\n            this.state.geoBlocked ? null : <Deposit neoAddr={this.props.address} amount={this.props.amount} asset={this.props.asset} privkey={this.props.privkey} addr={this.props.address} />\n        }\n      </>\n    );\n  }\n}\n\nexport default withTranslation()(InsufficientFunds);\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { withTranslation } from 'react-i18next';\nimport Brand from './Brand'\nimport ReactDOM from 'react-dom'\n\nimport './styles.css'\n\nclass RequestAcceptanceInvokeMulti extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentContract: props.invokeMultiArgs.invokeArgs[0],\n            totalContracts: props.invokeMultiArgs.invokeArgs.length,\n            actualIndex: 0\n        }\n    }\n\n    unmountComponent = () => {\n        ReactDOM.unmountComponentAtNode(window.document.getElementById(this.props.contid))\n    }\n\n    componentWillUnmount() {\n        window.document.getElementById(this.props.contid).remove();\n        this.props.closeRequest()\n        this.props.closeWidget()\n    }\n\n    componentDidUpdate() {\n        this.props.updateWidgetHeight(document.getElementById(this.props.contid).clientHeight)\n    }\n\n    render() {\n        const { t } = this.props\n        return (\n            <div>\n                <Brand closeWidget={() => { this.props.reject(); this.unmountComponent(); }} reqNumber={parseInt(this.props.contid.split('-')[1]) + 1} />\n                <Grid\n                    container\n                    direction=\"column\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    style={{ height: '100%', padding: '1em' }}\n                >\n                    <Grid item xs>\n                        <p style={{ fontSize: '0.85em' }}>{t(\"info_invokeMulti\")}</p>\n                    </Grid>\n                    <Grid item xs>\n                        <Grid container direction=\"row\">\n                            <Grid item onClick={() => { if (this.state.actualIndex !== 0) this.setState({ actualIndex: this.state.actualIndex - 1 }) }}\n                                style={{ transform: 'translateY(-4px)', cursor: this.state.actualIndex === 0 ? 'default' : 'pointer', opacity: this.state.actualIndex === 0 ? '0.2' : '1' }}>\n                                &#x1F860;\n            </Grid>\n                            <Grid item style={{ margin: '0px 14px' }}>\n                                <span>{this.state.actualIndex + 1} / {this.state.totalContracts}</span>\n                            </Grid>\n                            <Grid item onClick={() => { if (this.state.actualIndex !== this.state.totalContracts - 1) this.setState({ actualIndex: this.state.actualIndex + 1 }) }}\n                                style={{ transform: 'translateY(-4px)', cursor: this.state.actualIndex === this.state.totalContracts - 1 ? 'default' : 'pointer', opacity: this.state.actualIndex === this.state.totalContracts - 1 ? '0.2' : '1' }}>\n                                &#x1F862;\n            </Grid>\n                        </Grid>\n                    </Grid>\n                    <Grid item xs>\n                        <span style={{ fontSize: '0.75em' }}>{this.props.invokeMultiArgs.invokeArgs[this.state.actualIndex].scriptHash}</span>\n                    </Grid>\n                    <Grid item xs style={{ width: '100%' }}>\n                        <Grid\n                            container\n                            direction=\"column\"\n                            justify=\"center\"\n                            alignItems=\"flex-start\"\n                            style={{ padding: '1em' }}\n                        >\n                            <div>\n                                <span style={{ fontSize: '0.85em', display: 'block' }}>Network: {this.props.invokeMultiArgs.network}</span>\n                                {\n                                    this.props.goodEstimation ?\n                                        <span style={{ fontSize: '0.85em', display: 'block', color: '#B33A3A' }}>The amount of GAS or NEO that will be spent on this transaction could not be estimated, please make sure that this is a legitimate transaction</span>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t(<>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t[(this.props.invokeMultiArgs.invokeArgs[this.state.actualIndex].attachedAssets !== undefined) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t[\"NEO\", \"GAS\"].map((asset, i) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={i} style={{ fontSize: '0.85em', display: 'block' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAmount: {(this.props.invokeMultiArgs.invokeArgs[this.state.actualIndex].attachedAssets[asset]) ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.invokeMultiArgs.invokeArgs[this.state.actualIndex].attachedAssets[asset] : 0} {asset}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: (<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.85em', display: 'block' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAmount: {0} {'NEO'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.85em', display: 'block' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAmount: {0} {'GAS'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>),\n\t\t\t\t\t\t\t\t\t\t\t\t\t[\"NEO\", \"GAS\"].map((asset, i) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet total = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.invokeMultiArgs.invokeArgs.forEach(element => {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (element.attachedAssets && element.attachedAssets[asset])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal += parseFloat(element.attachedAssets[asset])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (< span key={i} style={{ fontSize: '0.85em', display: 'block' }}>Total amount: {total} {asset}</span>)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}), \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontSize: '0.85em', display: 'block' }}>Fee: {this.props.invokeMultiArgs.fee || 0} GAS</span>\n\t\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</>)\n                                }\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <Grid item xs style={{ width: '100%' }}>\n                        <Grid\n                            container\n                            direction=\"row\"\n                            justify=\"center\"\n                            alignItems=\"center\"\n                            spacing={2}\n                        >\n                            <Grid item xs>\n                                <button className='buttonContinue buttonAccept' onClick={() => {\n                                    this.props.resolve('resolveincomponent')\n                                    this.unmountComponent()\n                                }}>\n                                    {t(\"button_accept\")}\n                                </button>\n                            </Grid>\n                            <Grid item xs>\n                                <button className='buttonContinue buttonReject' onClick={() => {\n                                    this.props.reject()\n                                    this.unmountComponent()\n                                }}>\n                                    {t(\"button_reject\")}\n                                </button>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid >\n            </div >\n        );\n    }\n}\n\nexport default withTranslation()(RequestAcceptanceInvokeMulti);\n","import connectToParent from 'penpal/lib/connectToParent';\nimport Neon, { u, api, sc, tx, wallet, CONST, settings } from \"@cityofzion/neon-js\";\nimport { server } from './config';\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport LoginButton from './Views/LoginButton'\nimport RequestAcceptance from './Views/RequestAcceptance'\nimport RequestAcceptanceSend from './Views/RequestAcceptanceSend'\nimport RequestAcceptanceSignMessage from './Views/RequestAcceptanceSignMessage'\nimport { v4 as uuid } from 'uuid';\nimport RequestAcceptanceInvoke from './Views/RequestAcceptanceInvoke';\nimport RequestAcceptanceDeploy from './Views/RequestAcceptanceDeploy';\nimport InsufficientFunds from './Views/InsufficientFunds';\nimport RequestAcceptanceInvokeMulti from './Views/RequestAcceptanceInvokeMulti';\nimport { default as encryptRaw } from './crypt/encrypt';\nimport { default as decryptRaw } from './crypt/decrypt';\n\nlet acct = null;\nlet defaultNetwork = \"MainNet\";\nconst supportedNetworks = [\"MainNet\", \"TestNet\"];\nsettings.httpsOnly = true; // Ensure neon-js only talks to RPC endpoint (Neo node) using HTTPS\n\nlet totalRequests = 0\nlet calledLogin = false\nlet calledPermission = false\nlet userGivesPermission = false\n\nfunction getNetwork(network) {\n\treturn network === undefined ? defaultNetwork : network;\n}\n\nlet rawMethods = {\n\tgetProvider,\n\tgetNetworks,\n\tgetAccount,\n\tgetPublicKey,\n\tgetBalance,\n\tgetStorage,\n\tinvokeRead,\n\tverifyMessage,\n\tgetBlock,\n\tgetBlockHeight,\n\tgetTransaction,\n\tgetApplicationLog,\n\tsend,\n\tinvoke,\n\tinvokeMulti,\n\tsignMessage,\n\tdeploy,\n\tencrypt,\n\tdecrypt,\n\tdisconnect,\n\t//Methods implemented in the client SDK\n\t//addEventListener,\n\t//removeEventListener\n};\n\nlet methods = {};\n\nconst unathenticatedMethods = ['getProvider', 'getNetworks', 'getBalance', 'getStorage', 'invokeRead', 'verifyMessage', 'getBlock', 'getBlockHeight', 'getTransaction', 'getApplicationLog', 'disconnect'];\nconst requireNetworkCheckMethods = ['getBalance', 'getStorage', 'invokeRead', 'getBlock', 'getBlockHeight', 'getTransaction', 'getApplicationLog', 'send', 'invoke', 'invokeMulti', 'deploy'];\n\nObject.keys(rawMethods).map((key) => {\n\tmethods[key] = (...args) => {\n\t\tif (requireNetworkCheckMethods.includes(key)) {\n\t\t\tif (args[0].network !== undefined && !supportedNetworks.includes(args[0].network)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t\"type\": \"INVALID_NETWORK\",\n\t\t\t\t\t\"description\": \"This network is not supported.\"\n\t\t\t\t});\n\t\t\t}\n\t\t\targs[0].network = getNetwork(args[0].network);\n\t\t}\n\t\tif (acct || unathenticatedMethods.includes(key)) {\n\t\t\treturn rawMethods[key](...args);\n\t\t} else {\n\t\t\treturn signIn().then(() => rawMethods[key](...args)).catch((e) => Promise.reject(e))\n\t\t}\n\t}\n})\n\nconst connection = connectToParent({\n\tmethods\n});\n\nlet pendingTransactions = {\n\tMainNet: [],\n\tTestNet: []\n};\n\nlet lastBlockHeight = {\n\tMainNet: 0,\n\tTestNet: 0\n};\n\nconnection.promise.then(parent => {\n\tparent.sendEvent('READY', providerInfo);\n\n\t//TODO: Add event listeners for CONNECTED, BLOCK_HEIGHT_CHANGED and TRANSACTION_CONFIRMED\n\tsupportedNetworks.map(async network => {\n\t\tlastBlockHeight[network] = (await getBlockHeight({ network })).result;\n\t\tsetInterval(() => {\n\t\t\tgetBlock({\n\t\t\t\tnetwork,\n\t\t\t\tblockHeight: lastBlockHeight[network] + 1\n\t\t\t})\n\t\t\t\t.then(block => {\n\t\t\t\t\tlastBlockHeight[network] = block.index;\n\t\t\t\t\tparent.sendEvent('BLOCK_HEIGHT_CHANGED', {\n\t\t\t\t\t\tnetwork,\n\t\t\t\t\t\tblockHeight: block.index,\n\t\t\t\t\t\tblockTime: block.time,\n\t\t\t\t\t\tblockHash: block.hash,\n\t\t\t\t\t\ttx: block.tx\n\t\t\t\t\t});\n\t\t\t\t\tconst txids = block.tx.map(txx => txx.txid.substr(2));\n\t\t\t\t\tpendingTransactions[network] = pendingTransactions[network].filter(pendingTx => {\n\t\t\t\t\t\tif (txids.includes(pendingTx)) {\n\t\t\t\t\t\t\tparent.sendEvent('TRANSACTION_CONFIRMED', {\n\t\t\t\t\t\t\t\ttxid: pendingTx,\n\t\t\t\t\t\t\t\tblockHeight: block.index,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(e => e);\n\t\t}, 1000); // Run every second\n\t});\n});\n\nlet backlogCalledSignIn = [];\n\nfunction signIn() {\n\treturn new Promise((resolve, reject) => {\n\t\tbacklogCalledSignIn.push({ resolve, reject });\n\t\tif (!calledLogin) {\n\n\t\t\tcalledLogin = true\n\t\t\tlet storedPrivkey = window.localStorage.getItem('privkey');\n\t\t\tif (storedPrivkey === null) {\n\t\t\t\twindow.addEventListener(\"message\",\n\t\t\t\t\t(event) => {\n\n\t\t\t\t\t\tif (event.origin !== server || !event.data.privkey) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tacct = Neon.create.account(event.data.privkey);\n\t\t\t\t\t\tif (event.data.rememberMe) {\n\t\t\t\t\t\t\t// Store privkey in localStore and restore later \n\t\t\t\t\t\t\twindow.localStorage.setItem('privkey', event.data.privkey);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsuccessfulSignIn(acct)\n\t\t\t\t\t},\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t\tshowLoginButton(reject);\n\t\t\t} else {\n\t\t\t\tacct = Neon.create.account(storedPrivkey);\n\t\t\t\tsuccessfulSignIn(acct)\n\t\t\t}\n\t\t}\n\t});\n}\n\nasync function disconnect() {\n\tif(acct === null){\n\t\tthrow \"User has not logged in\";\n\t}\n\tacct = null;\n}\n\nconst providerInfo = {\n\tname: 'NeoLogin',\n\twebsite: 'https://neologin.io',\n\tversion: 'v0.1',\n\tcompatibility: [],\n\textra: {\n\t\ttheme: null,\n\t\tcurrency: null\n\t}\n};\n\nconst rpcUrls = {\n\t\"MainNet\": \"https://seed4.cityofzion.io\",\n\t\"TestNet\": \"https://test3.cityofzion.io:443\",\n};\n\n//Update networks so if the hard-coded ones are taken down or have downtime the rest continue working fine -> Commented because it leads to mixed content problems\nsupportedNetworks.map(network => {\n\tconst provider = new api.neoscan.instance(network);\n\tprovider.getRPCEndpoint()\n\t\t.then(nodeUrl => {\n\t\t\trpcUrls[network] = nodeUrl;\n\t\t})\n\t\t.catch(e => e);\n})\n\n\n// See https://github.com/CityOfZion/neon-js/blob/master/examples/browser/README.md\nfunction rpcCall(call, args, network, constructResponse, unsupportedCall = false) {\n\treturn new Promise(async (resolve, reject) => {\n\t\ttry {\n\t\t\tconst url = rpcUrls[network];\n\t\t\tconst client = Neon.create.rpcClient(url);\n\t\t\tlet result;\n\t\t\tif (unsupportedCall) {\n\t\t\t\tconst query = Neon.create.query({ method: call, params: args });\n\t\t\t\tresult = await query.execute(url);\n\t\t\t} else {\n\t\t\t\tresult = await client[call](...args);\n\t\t\t}\n\t\t\tresolve(constructResponse(result));\n\t\t} catch (e) {\n\t\t\treject({\n\t\t\t\ttype: 'RPC_ERROR',\n\t\t\t\tdescription: 'There was an error with this RPC call.',\n\t\t\t\tdata: ''\n\t\t\t});\n\t\t}\n\t})\n}\n\n// Does NOT need to be accepted\nfunction getProvider() {\n\treturn Promise.resolve(providerInfo);\n}\n\n// Does NOT need to be accepted\nfunction getNetworks() {\n\treturn Promise.resolve({\n\t\tnetworks: supportedNetworks,\n\t\tdefaultNetwork: defaultNetwork\n\t});\n}\n\n// Needs to be accepted once\nfunction getAccount(...args) {\n\treturn new Promise((resolve, reject) => {\n\t\trequestAcceptance().then(() => {\n\t\t\tresolve({\n\t\t\t\taddress: acct.address,\n\t\t\t\tlabel: 'My Spending Wallet'\n\t\t\t})\n\t\t}).catch((e) => {\n\t\t\treject(e);\n\t\t})\n\t})\n}\n\n// Needs to be accepted once\nfunction getPublicKey() {\n\treturn new Promise((resolve, reject) => {\n\t\trequestAcceptance().then(() => {\n\t\t\tresolve({\n\t\t\t\taddress: acct.address,\n\t\t\t\tpublicKey: acct.publicKey\n\t\t\t})\n\t\t}).catch((e) => {\n\t\t\treject(e);\n\t\t})\n\t})\n}\n\nconst neoscanEndpoints = {\n\t\"MainNet\": \"https://api.neoscan.io/api/main_net\",\n\t\"TestNet\": \"https://neoscan-testnet.io/api/test_net\"\n};\n\nfunction getApiProvider(network) {\n\tconst endpoint = neoscanEndpoints[network];\n\tconst apiProvider = new api.neoscan.instance(endpoint);\n\treturn { endpoint, apiProvider };\n}\n\n// Does NOT need to be accepted\nexport async function getBalance(balanceArgs) {\n\ttry {\n\t\tif (balanceArgs.params.constructor !== Array) {\n\t\t\tbalanceArgs.params = [balanceArgs.params];\n\t\t}\n\t\tconst { endpoint } = getApiProvider(balanceArgs.network);\n\t\tlet balances = await Promise.all(\n\t\t\tbalanceArgs.params.map(\n\t\t\t\t(param) => fetch(endpoint + \"/v1/get_balance/\" + param.address)\n\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tlet balance = [];\n\t\t\t\t\t\tfor (let i = 0; i < res.balance.length; i++) {\n\t\t\t\t\t\t\tif (param.assets === undefined || param.assets.includes(res.balance[i].asset_symbol)) {\n\t\t\t\t\t\t\t\tlet newAsset = {\n\t\t\t\t\t\t\t\t\tassetID: res.balance[i].asset_hash,\n\t\t\t\t\t\t\t\t\tsymbol: res.balance[i].asset_symbol,\n\t\t\t\t\t\t\t\t\tamount: String(res.balance[i].amount),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif (param.fetchUTXO) {\n\t\t\t\t\t\t\t\t\tnewAsset.unspent = res.balance[i].unspent.map((utxo) => (utxo.value = String(utxo.value), utxo)); // Convert type of value field from Number to String\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbalance.push(newAsset);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tbalance: balance,\n\t\t\t\t\t\t\taddress: res.address\n\t\t\t\t\t\t};\n\t\t\t\t\t})\n\t\t\t)\n\t\t);\n\t\tlet final = {};\n\t\tfor (let i = 0; i < balances.length; i++) {\n\t\t\tfinal[balances[i].address] = balances[i].balance;\n\t\t}\n\t\treturn final;\n\t} catch (e) {\n\t\tthrow {\n\t\t\ttype: \"MALFORMED_INPUT\",\n\t\t\tdescription: \"An error was encountered when processing this account.\"\n\t\t};\n\t}\n}\n\nfunction normalizeArg(arg){\n\tif(arg.type === \"Address\"){\n\t\treturn sc.ContractParam.byteArray(arg.value, \"address\")\n\t} else {\n\t\treturn arg\n\t}\n}\n\n// Does NOT need to be accepted\nfunction getStorage(storageArgs) {\n\treturn rpcCall(\"getStorage\", [storageArgs.scriptHash, storageArgs.key], storageArgs.network, (res) => { return { result: (res === null ? \"\" : res) } });\n}\n\n// Does NOT need to be accepted\nfunction invokeRead(invokeArgs) {\n\tlet script = \"\";\n\ttry {\n\t\tconst props = {\n\t\t\t// Scripthash for the contract\n\t\t\tscriptHash: invokeArgs.scriptHash,\n\t\t\t// name of operation to perform.\n\t\t\toperation: invokeArgs.operation,\n\t\t\t// any optional arguments to pass in. If null, use empty array.\n\t\t\targs: invokeArgs.args.map(normalizeArg),\n\t\t}\n\n\t\tscript = sc.createScript(props);\n\t} catch (e) {\n\t\treturn Promise.reject({\n\t\t\ttype: 'RPC_ERROR', //Should be MALFORMED_INPUT but compatibility\n\t\t\tdescription: 'The parameters or the scriptHash that you passed to the function are wrong',\n\t\t});\n\t}\n\n\treturn rpcCall(\"invokeScript\", [script], invokeArgs.network, res => res);\n}\n\n// Does NOT need to be accepted\nfunction verifyMessage(verifyArgs) {\n\tconst parameterHexString = u.str2hexstring(verifyArgs.message);\n\tconst lengthHex = u.num2VarInt(parameterHexString.length / 2);\n\tconst concatenatedString = lengthHex + parameterHexString;\n\tconst messageHex = '010001f0' + concatenatedString + '0000';\n\treturn Promise.resolve({\n\t\tresult: Neon.verify.hex(messageHex, verifyArgs.data, verifyArgs.publicKey)\n\t});\n}\n\n// Does NOT need to be accepted\nfunction getBlock(blockArgs) {\n\treturn rpcCall(\"getBlock\", [blockArgs.blockHeight], blockArgs.network, (res) => res);\n}\n\n// Does NOT need to be accepted\nfunction getBlockHeight(blockHeightArgs) {\n\treturn rpcCall(\"getBlockCount\", [], blockHeightArgs.network, (res) => { return { result: res } });\n}\n\n// Does NOT need to be accepted\nfunction getTransaction(txArgs) {\n\treturn rpcCall(\"getRawTransaction\", [txArgs.txid], txArgs.network, (res) => res);\n}\n\n// Does NOT need to be accepted\nfunction getApplicationLog(appLogArgs) {\n\treturn rpcCall(\"getapplicationlog\", [appLogArgs.txid], appLogArgs.network, (res) => res.result, true);\n}\n\nasync function sendTransaction(transaction, broadcastOverride, network) {\n\ttry {\n\t\tconst txid = transaction.hash;\n\t\tif (broadcastOverride) {\n\t\t\treturn {\n\t\t\t\ttxid,\n\t\t\t\tsignedTx: transaction.serialize()\n\t\t\t};\n\t\t} else {\n\t\t\t// Send raw transaction\n\t\t\tconst nodeUrl = rpcUrls[network];\n\t\t\tconst client = Neon.create.rpcClient(nodeUrl);\n\t\t\tawait client.sendRawTransaction(transaction);\n\n\t\t\t// Sucess!\n\t\t\tpendingTransactions[network].push(txid);\n\t\t\treturn {\n\t\t\t\ttxid,\n\t\t\t\tnodeUrl\n\t\t\t};\n\t\t}\n\t} catch {\n\t\tthrow {\n\t\t\ttype: 'RPC_ERROR',\n\t\t\tdescription: \"There was an error when broadcasting this transaction to the network.\",\n\t\t};\n\t}\n}\n\nfunction processGeneralError(error, defaultError = { type: 'MALFORMED_INPUT', description: \"Some input provided was wrong.\" }) {\n\tif (error && error.type) { // If the error has been created by ourselves let it pass\n\t\tthrow error;\n\t} else {\n\t\tthrow defaultError;\n\t}\n}\n\n// Needs to be accepted every time\n// See https://cityofzion.io/neon-js/docs/en/examples/native_asset.html\nasync function send(sendArgs) {\n\tawait requestAcceptance();\n\tawait requestAcceptanceSend(sendArgs);\n\ttry {\n\t\tif (sendArgs.fromAddress !== acct.address) {\n\t\t\tthrow {\n\t\t\t\ttype: 'MALFORMED_INPUT',\n\t\t\t\tdescription: 'From address is not a properly formatted address.'\n\t\t\t};\n\t\t}\n\t\tconst { endpoint, apiProvider } = getApiProvider(sendArgs.network);\n\t\tlet balance = await apiProvider.getBalance(sendArgs.fromAddress);\n\t\tlet transaction = Neon.create.contractTx();\n\t\ttransaction = transaction.addIntent(sendArgs.asset, Number(sendArgs.amount), sendArgs.toAddress);\n\t\tif (sendArgs.remark) {\n\t\t\ttransaction = transaction.addRemark(sendArgs.remark)\n\t\t}\n\t\tcalculateUTXOs(transaction, balance, sendArgs.fee, sendArgs.asset, sendArgs.amount, sendArgs.network);\n\t\ttransaction = transaction.sign(acct.privateKey);\n\n\t\ttry {\n\t\t\treturn await sendTransaction(transaction, sendArgs.broadcastOverride, sendArgs.network);\n\t\t} catch (e) {\n\t\t\tthrow { //Overwrite the error generated by sendTransaction\n\t\t\t\ttype: 'SEND_ERROR',\n\t\t\t\tdescription: \"There was an error when broadcasting this transaction to the network.\",\n\t\t\t};\n\t\t}\n\t} catch (e) {\n\t\tprocessGeneralError(e);\n\t}\n}\n\nfunction calculateUTXOs(transaction, balance, fee, asset, amount, network) {\n\ttry {\n\t\tif (fee) {\n\t\t\treturn transaction.calculate(balance, null, Number(fee))\n\t\t} else {\n\t\t\treturn transaction.calculate(balance)\n\t\t}\n\t} catch (e) {\n\t\tdisplayInsufficientFundsView(asset, amount, network);\n\t\tthrow {\n\t\t\ttype: 'INSUFFICIENT_FUNDS',\n\t\t\tdescription: \"Account doesn't have enough funds.\",\n\t\t};\n\t}\n}\n\nfunction addScriptAttribute(transaction, triggerContractVerification, assetIntentOverrides, attachedAssets, fee, balance) {\n\tif (triggerContractVerification) {\n\t\ttransaction.addAttribute(\n\t\t\ttx.TxAttrUsage.Script,\n\t\t\tu.reverseHex(wallet.getScriptHashFromAddress(acct.address))\n\t\t);\n\t} else if (assetIntentOverrides === undefined && attachedAssets === undefined && (fee === undefined || fee === 0)) {\n\t\ttransaction.addAttribute(\n\t\t\ttx.TxAttrUsage.Script,\n\t\t\tu.reverseHex(acct.scriptHash)\n\t\t);\n\t} else if (assetIntentOverrides) {\n\t\tlet txids = (balance.assets.GAS ? balance.assets.GAS.unspent : []).concat(balance.assets.NEO ? balance.assets.NEO.unspent : []).map(txx => txx.txid);\n\t\tlet userTxs = assetIntentOverrides.inputs.filter((input) => txids.includes(input.txid));\n\t\tif (userTxs.length === 0) {\n\t\t\ttransaction.addAttribute(\n\t\t\t\ttx.TxAttrUsage.Script,\n\t\t\t\tu.reverseHex(acct.scriptHash)\n\t\t\t);\n\t\t} else {\n\t\t\ttransaction.addAttribute(\n\t\t\t\ttx.TxAttrUsage.Script,\n\t\t\t\tu.reverseHex(acct.scriptHash)\n\t\t\t);\n\t\t}\n\t} else {\n\t\ttransaction.addAttribute(\n\t\t\ttx.TxAttrUsage.Script,\n\t\t\tu.reverseHex(acct.scriptHash)\n\t\t);\n\t}\n}\n\nfunction addExplicitIntents(transaction, assetIntentOverrides) {\n\tassetIntentOverrides.outputs.map(output =>\n\t\ttransaction.addOutput(\n\t\t\tnew tx.TransactionOutput({\n\t\t\t\tassetId: CONST.ASSET_ID[output.asset],\n\t\t\t\tvalue: output.value,\n\t\t\t\tscriptHash: wallet.getScriptHashFromAddress(output.address)\n\t\t\t})\n\t\t));\n\ttransaction.inputs = assetIntentOverrides.inputs.map(input =>\n\t\tnew tx.TransactionInput({\n\t\t\tprevHash: input.txid,\n\t\t\tprevIndex: input.index\n\t\t}));\n}\n\nfunction addHashAttributes(transaction, txHashAttributes) {\n\ttxHashAttributes.map((attr) => {\n\t\tif (!attr.txAttrUsage.startsWith(\"Hash\")) {\n\t\t\tthrow {\n\t\t\t\ttype: \"MALFORMED_INPUT\",\n\t\t\t\tdescription: `${attr.txAttrUsage} is not a hash attribute.`\n\t\t\t};\n\t\t}\n\t\tlet parsedValue = zeroPad(attr.value, 64, true);\n\t\tswitch (attr.type) {\n\t\t\tcase \"Boolean\":\n\t\t\t\tparsedValue = zeroPad(!!attr.value ? 0x51 : 0x00, 64, true);\n\t\t\t\tbreak;\n\t\t\tcase \"Address\":\n\t\t\t\tparsedValue = zeroPad(u.reverseHex(wallet.getScriptHashFromAddress(attr.value)), 64, true);\n\t\t\t\tbreak;\n\t\t\tcase \"Integer\":\n\t\t\t\tconst h = Number(attr.value).toString(16);\n\t\t\t\tparsedValue = zeroPad(u.reverseHex(h.length % 2 ? '0' + h : h), 64, true);\n\t\t\t\tbreak;\n\t\t\tcase \"String\":\n\t\t\t\tparsedValue = zeroPad(str2hex(attr.value), 64, true);\n\t\t\t\tbreak;\n\t\t}\n\t\ttransaction.addAttribute(\n\t\t\ttx.TxAttrUsage[attr.txAttrUsage],\n\t\t\tparsedValue\n\t\t);\n\t});\n\n\tfunction zeroPad(input, length, padEnd = false) {\n\t\tconst zero = '0';\n\t\tinput = String(input);\n\t\tif (padEnd) {\n\t\t\treturn input + zero.repeat(length - input.length);\n\t\t}\n\t\treturn zero.repeat(length - input.length) + input;\n\t}\n\n\tfunction str2hex(str) {\n\t\tvar arr = [];\n\t\tfor (var i = 0, l = str.length; i < l; i++) {\n\t\t\tvar hex = Number(str.charCodeAt(i)).toString(16);\n\t\t\tarr.push(hex.length > 1 && hex || \"0\" + hex);\n\t\t}\n\t\treturn arr.join('');\n\t}\n}\n\nfunction addAssets(transaction, attachedAssets, scriptHash) {\n\t[\"NEO, GAS\"].map((asset) => {\n\t\tif (attachedAssets[asset]) {\n\t\t\ttransaction = transaction.addIntent(asset, Number(attachedAssets[asset]), wallet.getAddressFromScriptHash(scriptHash));\n\t\t}\n\t});\n}\n\n// Needs to be accepted every time\n// See https://cityofzion.io/neon-js/docs/en/examples/smart_contract.html\nasync function invoke(invokeArgs) {\n\tawait requestAcceptance();\n\tawait requestAcceptanceInvoke(invokeArgs, invokeArgs.network, (invokeArgs.assetIntentOverrides !== undefined));\n\ttry {\n\t\tconst { endpoint, apiProvider } = getApiProvider(invokeArgs.network);\n\t\tlet balance = await apiProvider.getBalance(acct.address);\n\t\tconst script = Neon.create.script({\n\t\t\tscriptHash: invokeArgs.scriptHash,\n\t\t\toperation: invokeArgs.operation,\n\t\t\targs: invokeArgs.args.map(normalizeArg)\n\t\t});\n\t\tlet transaction = new tx.InvocationTransaction({\n\t\t\tscript: script,\n\t\t\tgas: 0\n\t\t});\n\t\taddScriptAttribute(transaction, invokeArgs.triggerContractVerification, invokeArgs.assetIntentOverrides, invokeArgs.attachedAssets, invokeArgs.fee, balance);\n\t\tif (invokeArgs.assetIntentOverrides) {\n\t\t\taddExplicitIntents(transaction, invokeArgs.assetIntentOverrides);\n\t\t} else {\n\t\t\tif (invokeArgs.attachedAssets) {\n\t\t\t\taddAssets(transaction, invokeArgs.attachedAssets, invokeArgs.scriptHash);\n\t\t\t}\n\t\t\tcalculateUTXOs(transaction, balance, invokeArgs.fee, invokeArgs.asset, invokeArgs.amount, invokeArgs.network);\n\t\t}\n\t\tif (invokeArgs.txHashAttributes) {\n\t\t\taddHashAttributes(transaction, invokeArgs.txHashAttributes);\n\t\t}\n\t\ttransaction.sign(acct.privateKey);\n\t\treturn await sendTransaction(transaction, invokeArgs.broadcastOverride, invokeArgs.network);\n\t} catch (e) {\n\t\tprocessGeneralError(e);\n\t}\n}\n\n// Needs to be accepted every time\nasync function invokeMulti(invokeMultiArgs) {\n\tawait requestAcceptance()\n\tawait requestAcceptanceInvokeMulti(invokeMultiArgs, (invokeMultiArgs.assetIntentOverrides !== undefined));\n\ttry {\n\t\tconst { endpoint, apiProvider } = getApiProvider(invokeMultiArgs.network);\n\t\tlet balance = await apiProvider.getBalance(acct.address);\n\t\tconst script = Neon.create.script(...invokeMultiArgs.invokeArgs.map(arg => ({\n\t\t\tscriptHash: arg.scriptHash,\n\t\t\toperation: arg.operation,\n\t\t\targs: arg.args.map(normalizeArg)\n\t\t})));\n\t\tlet transaction = new tx.InvocationTransaction({\n\t\t\tscript: script,\n\t\t\tgas: 0\n\t\t});\n\t\tinvokeMultiArgs.invokeArgs.map(arg =>\n\t\t\taddScriptAttribute(transaction, arg.triggerContractVerification, invokeMultiArgs.assetIntentOverrides, arg.attachedAssets, invokeMultiArgs.fee, balance)\n\t\t);\n\t\tif (invokeMultiArgs.assetIntentOverrides) {\n\t\t\taddExplicitIntents(transaction, invokeMultiArgs.assetIntentOverrides);\n\t\t} else {\n\t\t\tinvokeMultiArgs.invokeArgs.map(arg => {\n\t\t\t\tif (arg.attachedAssets) {\n\t\t\t\t\taddAssets(transaction, arg.attachedAssets, arg.scriptHash);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcalculateUTXOs(transaction, balance, invokeMultiArgs.fee);\n\t\t}\n\t\tif (invokeMultiArgs.txHashAttributes) {\n\t\t\taddHashAttributes(transaction, invokeMultiArgs.txHashAttributes);\n\t\t}\n\t\ttransaction.sign(acct.privateKey);\n\t\treturn await sendTransaction(transaction, invokeMultiArgs.broadcastOverride, invokeMultiArgs.network);\n\t} catch (e) {\n\t\tprocessGeneralError(e);\n\t}\n}\n\n// Needs to be accepted every time\nasync function signMessage(signArgs) {\n\tawait requestAcceptance();\n\tawait requestAcceptanceSignMessage(signArgs.message);\n\ttry {\n\t\tconst salt = uuid().replace(/-/g, '');\n\t\tconst parameterHexString = u.str2hexstring(salt + signArgs.message);\n\t\tconst lengthHex = u.num2VarInt(parameterHexString.length / 2);\n\t\tconst concatenatedString = lengthHex + parameterHexString;\n\t\tconst messageHex = '010001f0' + concatenatedString + '0000';\n\t\tconst signedMessage = Neon.sign.hex(messageHex, acct.privateKey);\n\n\t\treturn {\n\t\t\tpublicKey: acct.publicKey, // Public key of account that signed message\n\t\t\tmessage: signArgs.message, // Original message signed\n\t\t\tsalt: salt, // Salt added to original message as prefix, before signing\n\t\t\tdata: signedMessage, // Signed message\n\t\t};\n\t} catch (e) {\n\t\tthrow {\n\t\t\ttype: 'UNKNOWN_ERROR',\n\t\t\tdescription: 'There was an unknown error.',\n\t\t};\n\t}\n}\n\n// Needs to be accepted every time\n// See https://github.com/NeoResearch/neocompiler-eco/blob/master/public/js/eco-scripts/invoke_deploy_NeonJS.js\nasync function deploy(deployArgs) {\n\tlet sysGasFee = 100;\n\tif (deployArgs.needsStorage) {\n\t\tsysGasFee += 400;\n\t}\n\tif (deployArgs.dynamicInvoke) {\n\t\tsysGasFee += 500;\n\t}\n\tawait requestAcceptance();\n\tawait requestAcceptanceDeploy(deployArgs, sysGasFee);\n\ttry {\n\t\tif (!deployArgs.code) {\n\t\t\tthrow {\n\t\t\t\ttype: 'MALFORMED_INPUT',\n\t\t\t\tdescription: \"ERROR (DEPLOY): Empty script (avm)!\"\n\t\t\t};\n\t\t}\n\t\tconst sb = Neon.create.scriptBuilder();\n\t\tsb.emitPush(u.str2hexstring(deployArgs.description)) // description\n\t\t\t.emitPush(u.str2hexstring(deployArgs.email)) // email\n\t\t\t.emitPush(u.str2hexstring(deployArgs.author)) // author\n\t\t\t.emitPush(u.str2hexstring(deployArgs.version)) // code_version\n\t\t\t.emitPush(u.str2hexstring(deployArgs.name)) // name\n\t\t\t.emitPush(0x00 | (deployArgs.needsStorage ? 0x01 : 0x00) | (deployArgs.dynamicInvoke ? 0x02 : 0x00) | (deployArgs.isPayable ? 0x04 : 0x00)) // storage: {none: 0x00, storage: 0x01, dynamic: 0x02, storage+dynamic:0x03}\n\t\t\t.emitPush(deployArgs.returnType) // expects hexstring  (_emitString) // usually '05'\n\t\t\t.emitPush(deployArgs.parameterList) // expects hexstring  (_emitString) // usually '0710'\n\t\t\t.emitPush(deployArgs.code) //script\n\t\t\t.emitSysCall('Neo.Contract.Create');\n\n\t\tconst { endpoint, apiProvider } = getApiProvider(deployArgs.network);\n\n\t\tlet balance = await apiProvider.getBalance(acct.address);\n\t\tlet transaction = new tx.InvocationTransaction({\n\t\t\tscript: sb.str,\n\t\t\tgas: sysGasFee\n\t\t});\n\n\t\ttransaction.addAttribute(\n\t\t\ttx.TxAttrUsage.Script,\n\t\t\tu.reverseHex(acct.scriptHash)\n\t\t);\n\n\t\tcalculateUTXOs(transaction, balance, deployArgs.networkFee);\n\t\ttransaction = transaction.sign(acct.privateKey);\n\n\t\treturn await sendTransaction(transaction, deployArgs.broadcastOverride, deployArgs.network);\n\t} catch (e) {\n\t\tprocessGeneralError(e, {\n\t\t\ttype: 'UNKNOWN_ERROR',\n\t\t\tdescription: 'There was an unknown error.',\n\t\t});\n\t}\n}\n\nasync function encrypt({ recipientPublicKey, data }) {\n\tawait requestAcceptance();\n\ttry {\n\t\treturn encryptRaw({ recipientPublicKey, 'wif': wallet.getWIFFromPrivateKey(acct.privateKey), data })\n\t} catch (error) {\n\t\tprocessGeneralError(error)\n\t}\n}\n\nasync function decrypt({ senderPublicKey, iv, mac, data }) {\n\tawait requestAcceptance();\n\ttry {\n\t\tlet bufferData = decryptRaw({ senderPublicKey, 'wif': wallet.getWIFFromPrivateKey(acct.privateKey), iv, mac, data })\n\t\treturn {\n\t\t\tbufferData: bufferData,\n\t\t\tdata: new TextDecoder(\"utf-8\").decode(bufferData)\n\t\t}\n\t} catch (error) {\n\t\tif (error.message.includes('Bad MAC'))\n\t\t\tthrow ({ type: 'BAD_MAC', description: error.message })\n\t\telse\n\t\t\tprocessGeneralError(error)\n\t}\n}\n\nfunction closeWidget() {\n\tconnection.promise.then((parent) => parent.closeWidget())\n}\n\nfunction displayWidget(wheight) {\n\tconnection.promise.then((parent) => parent.displayWidget(wheight))\n}\n\nfunction showLoginButton(reject) {\n\tconst rejectError = {\n\t\ttype: 'CONNECTION_DENIED',\n\t\tdescription: 'The user rejected the request to connect with your dApp.',\n\t}\n\tReactDOM.render(\n\t\t<LoginButton closeWidget={() => { reject(rejectError); closeWidget(); calledLogin = false; }} />,\n\t\tdocument.getElementById('content'),\n\t\t() => displayWidget(document.getElementById('content').clientHeight)\n\t);\n}\n\nfunction successfulSignIn(account) {\n\tReactDOM.unmountComponentAtNode(window.document.getElementById('content'))\n\tcloseWidget()\n\tbacklogCalledSignIn.map(({ resolve }) => resolve());\n\tbacklogCalledSignIn = [];\n\tcalledLogin = false;\n}\n\nlet backlogRequestedAcceptance = [];\n\nfunction requestAcceptance() {\n\treturn new Promise((resolve, reject) => {\n\t\tbacklogRequestedAcceptance.push({ resolve, reject });\n\t\tif (!calledPermission || userGivesPermission) {\n\t\t\tcalledPermission = true\n\t\t\tif (userGivesPermission)\n\t\t\t\tresolve()\n\t\t\telse {\n\t\t\t\tvar requestContainer = createRequestContainer()\n\t\t\t\tReactDOM.render(<RequestAcceptance\n\t\t\t\t\tresolve={() => {\n\t\t\t\t\t\tuserGivesPermission = true;\n\t\t\t\t\t\tconnection.promise.then(parent =>\n\t\t\t\t\t\t\tparent.sendEvent('CONNECTED', { address: acct.address, label: \"My Spending Wallet\" }));\n\t\t\t\t\t\tbacklogRequestedAcceptance.map(({ resolve }) => resolve());\n\t\t\t\t\t}}\n\t\t\t\t\treject={(error) => {\n\t\t\t\t\t\tbacklogRequestedAcceptance.map(({ reject }) => reject(error));\n\t\t\t\t\t\tbacklogRequestedAcceptance = [];\n\t\t\t\t\t}}\n\t\t\t\t\tcloseWidget={() => { calledPermission = false; closeWidget() }}\n\t\t\t\t\tcloseRequest={closeRequest}\n\t\t\t\t\tcontid={requestContainer.id}\n\t\t\t\t/>, document.getElementById(requestContainer.id), () => {\n\t\t\t\t\tdisplayRequest(requestContainer)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t});\n}\n\nconst failedAcceptanceRequestError = {\n\ttype: 'CANCELED',\n\tdescription: 'The user rejected the transaction.'\n};\n\nfunction requestAcceptanceSend(sendArgs) {\n\treturn new Promise((resolve, reject) => {\n\t\tvar requestContainer = createRequestContainer()\n\t\tReactDOM.render(<RequestAcceptanceSend sendArgs={sendArgs} resolve={resolve} reject={() => reject(failedAcceptanceRequestError)} closeWidget={() => { calledPermission = false; closeWidget() }} closeRequest={closeRequest} contid={requestContainer.id} />, document.getElementById(requestContainer.id), () => {\n\t\t\tdisplayRequest(requestContainer)\n\t\t});\n\t});\n}\n\nfunction displayInsufficientFundsView(asset, amount, network) {\n\treturn new Promise((resolve, reject) => {\n\t\tvar requestContainer = createRequestContainer()\n\t\tReactDOM.render(<InsufficientFunds asset={asset} network={network} amount={amount} address={acct.address} privkey={acct.privateKey} reject={() => reject(failedAcceptanceRequestError)} closeWidget={() => { closeWidget() }} closeRequest={closeRequest} contid={requestContainer.id} />, document.getElementById(requestContainer.id), () => {\n\t\t\tdisplayRequest(requestContainer)\n\t\t});\n\t});\n}\n\nfunction requestAcceptanceSignMessage(message) {\n\treturn new Promise((resolve, reject) => {\n\t\tvar requestContainer = createRequestContainer()\n\t\tReactDOM.render(<RequestAcceptanceSignMessage message={message} resolve={resolve} reject={() => reject(failedAcceptanceRequestError)} closeWidget={() => { calledPermission = false; closeWidget() }} closeRequest={closeRequest} contid={requestContainer.id} />, document.getElementById(requestContainer.id), () => {\n\t\t\tdisplayRequest(requestContainer)\n\t\t});\n\t});\n}\n\nfunction requestAcceptanceInvoke(invokeArgs, network, goodEstimation) {\n\treturn new Promise((resolve, reject) => {\n\t\tvar requestContainer = createRequestContainer()\n\t\tReactDOM.render(<RequestAcceptanceInvoke goodEstimation={goodEstimation} invokeArgs={invokeArgs} network={network} resolve={resolve} reject={() => reject(failedAcceptanceRequestError)} closeWidget={() => { calledPermission = false; closeWidget() }} closeRequest={closeRequest} contid={requestContainer.id} />, document.getElementById(requestContainer.id), () => {\n\t\t\tdisplayRequest(requestContainer)\n\t\t});\n\t});\n}\n\nfunction requestAcceptanceInvokeMulti(invokeMultiArgs, goodEstimation) {\n\treturn new Promise((resolve, reject) => {\n\t\tvar requestContainer = createRequestContainer()\n\t\tReactDOM.render(<RequestAcceptanceInvokeMulti goodEstimation={goodEstimation} invokeMultiArgs={invokeMultiArgs} resolve={resolve} reject={() => reject(failedAcceptanceRequestError)} closeWidget={() => { calledPermission = false; closeWidget() }} closeRequest={closeRequest} contid={requestContainer.id} updateWidgetHeight={(h) => connection.promise.then((parent) => parent.updateWidgetHeight(h))} />, document.getElementById(requestContainer.id), () => {\n\t\t\tdisplayRequest(requestContainer)\n\t\t});\n\t});\n}\n\nfunction requestAcceptanceDeploy(deployArgs, sysGasFee) {\n\treturn new Promise((resolve, reject) => {\n\t\tvar requestContainer = createRequestContainer()\n\t\tReactDOM.render(<RequestAcceptanceDeploy sysGasFee={sysGasFee} deployArgs={deployArgs} resolve={resolve} reject={() => reject(failedAcceptanceRequestError)} closeWidget={() => { calledPermission = false; closeWidget() }} closeRequest={closeRequest} contid={requestContainer.id} />, document.getElementById(requestContainer.id), () => {\n\t\t\tdisplayRequest(requestContainer)\n\t\t});\n\t});\n}\n\nfunction createRequestContainer() {\n\tvar requestContainer = document.createElement(\"div\");\n\trequestContainer.id = 'request-' + totalRequests\n\tlet containerStyle = {\n\t\ttop: '0',\n\t\tposition: 'fixed',\n\t\twidth: '100%',\n\t\tbackground: 'white',\n\t}\n\tfor (let style in containerStyle) {\n\t\trequestContainer.style[style] = containerStyle[style];\n\t}\n\tvar mainContainer = document.getElementById(\"root\");\n\tmainContainer.appendChild(requestContainer);\n\treturn requestContainer;\n}\n\nfunction displayRequest(requestContainer) {\n\tdisplayWidget(document.getElementById(requestContainer.id).clientHeight)\n\ttotalRequests++\n}\n\nfunction closeRequest() {\n\ttotalRequests--\n}\n\nconst observer = new MutationObserver((mutationsList, observer) => {\n\tconst container = document.getElementById('request-' + (totalRequests - 1)) || document.getElementById('content');\n\tdisplayWidget(container ? container.clientHeight : 0);\n});\nobserver.observe(document.getElementById(\"root\"), {\n\tattributes: true,\n\tchildList: true,\n\tsubtree: true\n});\n","import React from 'react';\nimport { finishPurchase } from './index'\n\nclass PaymentResultView extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            success: null,\n            resultMsg: ''\n        };\n    }\n\n    componentDidMount() {\n        var temp = this.props.url.searchParams.get(\"contactId\");\n        if (this.props.success === 'true') {\n            var asset = this.props.url.searchParams.get(\"asset\");\n            var actualBalance = this.props.url.searchParams.get(\"actualBalance\");\n            temp = temp ? temp : \"a?A\";\n            var contactId = temp.split('?')[0]\n            var orderId = temp.split('?')[1].split('=')[1]\n            var from = this.props.url.searchParams.get(\"from\");\n            var to = this.props.url.searchParams.get(\"to\");\n            var value = this.props.url.searchParams.get(\"value\");\n            var neoAddr = this.props.url.searchParams.get(\"neoAddr\");\n            this.setState({\n                resultMsg: 'Payment ok. Please wait..'\n            })\n            this.startFinalTransaction(neoAddr, from, to, value, null, contactId, orderId, actualBalance, asset)\n        } else {\n            this.setState({ resultMsg: 'Error with your credit card' })\n        }\n    }\n\n    startFinalTransaction = (neoAddr, from, to, value, gas, contactId, orderId, actualBalance, asset) => {\n        finishPurchase(neoAddr, from, to, value, gas, contactId, orderId, actualBalance, asset).then((tx) => {\n            this.setState({ resultMsg: `Done! This is your tx id: ${tx}` })\n        }).catch(() => {\n            this.setState({ resultMsg: `Something went wrong (orderId = ${this.state.orderId}), please contact us (fiat@neologin.io)` })\n        })\n    }\n\n    render() {\n        return (\n            <>\n                <p>{this.state.resultMsg}</p>\n            </>\n        );\n    }\n}\n\nexport default PaymentResultView;","import React from 'react';\nimport './App.css';\nimport './conn'\n\nimport PaymentResultView from './fiat/PaymentResultView'\n\nfunction App() {\n  var url_string = window.location.href\n  var url = new URL(url_string);\n  var success = url.searchParams.get(\"success\");\n  return (\n    <>\n      {\n        success ?\n          <PaymentResultView url={url} success={success} />\n          :\n          <div id=\"content\"></div>\n      }\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"./translations/i18n\";\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}